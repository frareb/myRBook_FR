---
geometry: "left=0.5in, right=0.5in, top=0.3in, bottom=0.6in, paperwidth=170.00mm, paperheight=240.00mm"
title: "Figures en couleurs"
output: 
  pdf_document
header-includes:
- \usepackage{caption}
- \captionsetup[figure]{labelformat=empty}
- \pagenumbering{roman}
---

<!-- rmarkdown::render(input = "999_cahierCouleurs.Rmd", output_format = "pdf_document") -->

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure10-7.pdf", height = 2.5, width = 7)
  par(mfrow = c(1, 2))
  myX <- rnorm(100, mean = 0, sd = 1)
  myY <- rnorm(100, mean = 10, sd = 1)
  par(mar = c(2, 2, 0, 0))
  plot(x = myX, y = myY, xlab = "", cex.lab = 1.5, ylab = "",
    cex = seq(from = 0.5, to = 3, length.out = 100),
    pch = 16,
    col = sample(colors(), 100))
  myX <- rnorm(100)
  myY <- rnorm(100)
  dfGraph <- data.frame(myX, myY)
  dfGraph <- dfGraph[order(dfGraph$myX),]
  dfGraph$myCol <- colorRampPalette(c("blue", "red"))(100)
  dfGraph <- dfGraph[order(dfGraph$myY),]
  dfGraph$myCex <- seq(from = 0.5, to = 3, length.out = 100)
  plot(x = dfGraph$myX, y = dfGraph$myY, 
    cex = dfGraph$myCex, pch = 16, col = dfGraph$myCol, 
    xlab = "", ylab = "")
dev.off()
```

<center>

![Figure 10.7. Couleur des points (col) ; Figure 10.8. Couleur et taille des points (col)](999_cahierCouleurs/Figure10-7.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure10-11.pdf", height = 4.5, width = 7)
  par(mfrow = c(2, 2), mar = c(2, 2, 0, 0))
  graph4 <- lapply(1:4, function(i){
    plot(x = rnorm(100), y = rnorm(100),
      xlab = "", ylab = "",
      col = i, pch = 16,)
  })
dev.off()
```

<center>

![Figure 10.11. Quatre graphiques avec lapply()](999_cahierCouleurs/Figure10-11.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure10-12.pdf", height = 4.5, width = 7)
  myX <- rnorm(100)
  myY <- rnorm(100)
  par(mar = c(5, 2, 0, 0)) 
  plot(x = myX, y = myY, xlab = "", ylab = "",
    xlim = c(-4, 4), ylim = c(-4, 4),   
    pch = 16, cex = 1.5, 
    col = sample(colors(), size = 100),
    panel.first = {
      grid()
      abline(v = c(min(myX), max(myX)), lty = 2)
      abline(h = c(min(myY), max(myY)), lty = 2)
      abline(v = mean(myX), lty = 1)
      abline(h = mean(myY), lty = 1)
  })
dev.off()
```

<center>

![Figure 10.12. Lignes verticales et horizontales avec abline()](999_cahierCouleurs/Figure10-12.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure10-13.pdf", height = 4.5, width = 7)
  par(mfrow = c(2, 2), mar = c(2, 2, 1, 1))
  myX <- list(
    rnorm(1000),
    rgamma(1000, shape = 1),
    sample(1:100, size = 1000, replace = TRUE),
    rbeta(1000, shape1 = 1, shape2 = 2)
  )
  myTitle <- c("Normal", "Gamma", "Uniform", "Beta")
  tr <- lapply(1:4, function(i){
    hist(myX[[i]], 
      col = heat.colors(15), 
      main = myTitle[i]
    )
  })
dev.off()
```

<center>

![Figure 10.13. Histogramme avec hist()](999_cahierCouleurs/Figure10-13.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure10-16.pdf", height = 4.5, width = 7)
  n <- 50
  myX <- rnorm(n)
  myY <- rnorm(n)
  myCol <- c(2, sample(c(4, 2), size = (n - 1), replace = TRUE))
  myColors <- colorRampPalette(c("blue", "red"))(100)
  myYCut <- cut(myY, breaks = -4:4)
  myXCut <- cut(myX, breaks = -4:4)
  myYCutCol <- table(myCol, myYCut)
  myXCutCol <- table(myCol, myXCut)
  xCol <- round(
    myXCutCol[1,] / (myXCutCol[1,] + myXCutCol[2,]) * 100
  )
  xCol[is.na(xCol) | xCol == 0] <- 1
  yCol <- round(
    myYCutCol[1,] / (myYCutCol[1,] + myYCutCol[2,]) * 100
  )
  yCol[is.na(yCol) | yCol == 0] <- 1
  op <- par(no.readonly = TRUE)
  par(mar = c(2, 3, 1, 1))
  layout(matrix(c(1, 1, 0, 
                  2, 2, 3, 
                  2, 2, 3), ncol = 3, byrow = TRUE))
  barplot(table(myXCut), las = 1, col = myColors[xCol])
  plot(x = myX, y = myY, col = myCol, pch = 16, 
    xlim = c(-4, 4), ylim = c(-4, 4), cex = 1.5, 
    panel.first = grid())
  barplot(
    table(myYCut), 
    las = 1, 
    horiz = TRUE, 
    col = myColors[yCol])
dev.off()
```

<center>

![Figure 10.16. Graphique composé](999_cahierCouleurs/Figure10-16.pdf)

</center>

```{r, include=FALSE}
graphBarplotCol <- function(n){
  myX <- rnorm(n)
  myY <- rnorm(n)
  myCol <- c(2, sample(c(4, 2), size = (n - 1), replace = TRUE))
  myColors <- colorRampPalette(c("blue", "red"))(100)
  myYCut <- cut(myY, breaks = -4:4)
  myXCut <- cut(myX, breaks = -4:4)
  myYCutCol <- table(myCol, myYCut)
  myXCutCol <- table(myCol, myXCut)
  xCol <- round(
    myXCutCol[1,] / (myXCutCol[1,] + myXCutCol[2,]) * 100
  )
  xCol[is.na(xCol) | xCol == 0] <- 1
  yCol <- round(
    myYCutCol[1,] / (myYCutCol[1,] + myYCutCol[2,]) * 100
  )
  yCol[is.na(yCol) | yCol == 0] <- 1
  op <- par(no.readonly = TRUE)
  par(mar = c(2, 3, 1, 1))
  layout(matrix(c(1, 1, 0, 
                  2, 2, 3, 
                  2, 2, 3), ncol = 3, byrow = TRUE))
  barplot(table(myXCut), las = 1, col = myColors[xCol])
  plot(x = myX, y = myY, col = myCol, pch = 16, 
    xlim = c(-4, 4), ylim = c(-4, 4), cex = 1.5, 
    panel.first = grid())
  barplot(
    table(myYCut), 
    las = 1, 
    horiz = TRUE, 
    col = myColors[yCol])
  par(op)
}
pdf(file = "./999_cahierCouleurs/Figure10-17.pdf", height = 4.5, width = 7)
  graphBarplotCol(n = 1000)
dev.off()
```

<center>

![Figure 10.17. Graphique sous forme de fonction](999_cahierCouleurs/Figure10-17.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure10-18.pdf", height = 2.5, width = 7)
  layout(matrix(c(1, 1, 2, 3), ncol = 4, byrow = TRUE))
  par(mar = c(3, 1, 1, 1)) 
  barplot(rnorm(20), horiz = TRUE, col = rainbow(20))
  gender <- data.frame(
    m = cut(sample(1:75, 1000, replace = TRUE), 
      breaks = seq(from = 0, to = 80, by = 10)), 
    f = cut(sample(1:75, 1000, replace = TRUE), 
      breaks = seq(from = 0, to = 80, by = 10))
  )
  par(mar = c(3, 1, 1, 1))
  barplot(-table(gender$f), horiz = TRUE, col = "salmon")
  barplot(table(gender$m), horiz = TRUE, col = "lightblue")
dev.off()
```

<center>

![Figure 10.18. Barplot avec valeurs négatives ; Figure 10.19. Pyramide des âges](999_cahierCouleurs/Figure10-18.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure10-20.pdf", height = 2.5, width = 7)
  par(mfrow = c(1, 2))
  df <- data.frame(
    box1 = rnorm(1000), 
    box2 = rgamma(1000, shape = 1), 
    box3 = sample(-3:3, size = 1000, replace = TRUE),
    box4 = rbeta(1000, shape1 = 1, shape2 = 2)
  )
  par(mar = c(2, 2, 0, 0)) 
  boxplot(df, col = c(rgb(0, 94, 255, maxColorValue = 255),  
    rgb(255, 0, 174, maxColorValue = 255),  
    rgb(255, 136, 0, maxColorValue = 255),  
    rgb(119, 255, 0, maxColorValue = 255)))
  df$cat <- sample(
    c("w", "x", "y", "z"), 
    size = 1000, 
    replace = TRUE)
  par(mar = c(2, 4, 0, 0)) 
  boxplot(df$box3 ~ df$cat, 
    col = c(rgb(0, 94, 255, maxColorValue = 255),  
      rgb(255, 0, 174, maxColorValue = 255),  
      rgb(255, 136, 0, maxColorValue = 255),  
      rgb(119, 255, 0, maxColorValue = 255)), 
    ylab = "Box3")
dev.off()
```

<center>

![Figure 10.20. Boxplot ; Figure 10.21. Boxplot par catégorie](999_cahierCouleurs/Figure10-20.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure10-22.pdf", height = 2.5, width = 7)
  par(mfrow = c(1, 2))
  df$cat2 <- sample(1:3, size = 1000, replace = TRUE)
  par(mar = c(2, 2, 0, 0))
  boxplot(df$box4 ~ df$cat*df$cat2, col = c(
    rgb(0, 94, 255, maxColorValue = 255),
    rgb(255, 0, 174, maxColorValue = 255),
    rgb(255, 136, 0, maxColorValue = 255),
    rgb(119, 255, 0, maxColorValue = 255)), ylab = "Box4")
  
  df$cat <- sample(
    c("w", "x", "y", "z"), 
    size = 1000, 
    replace = TRUE)
  par(mar = c(2, 2, 0, 0)) 
  boxplot(df$box2 ~ df$cat, horizontal = TRUE, 
    col = c(rgb(255, 110, 0, maxColorValue = 255),  
    rgb(230, 255, 0, maxColorValue = 255),  
    rgb(0, 178, 255, maxColorValue = 255),  
    rgb(166, 0, 255, maxColorValue = 255)), xlab = "Box2")
dev.off()
```

<center>

![Figure 10.22. Boxplot par catégorie ; Figure 10.23. Boxplot horizontal](999_cahierCouleurs/Figure10-22.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure11-1.pdf", height = 2.5, width = 7)
  par(mar = c(2, 0, 0, 0), mfrow = c(1, 2)) 
  barplot(
    matrix(rep(1, 8), ncol = 1),
    col = c("black", "red", "green", "blue", 
      "cyan", "magenta", "yellow", "grey"), 
    names.arg = c("R < 4.0.0"), axes = FALSE)
  text(x = rep(1, 8), y = 1:8 - 0.5, labels = 1:8, col = c("white", rep(1, 7)), cex = 1)
  barplot(
    matrix(rep(1, 8), ncol = 1),
    col = c(1:8), 
    names.arg = c("R >= 4.0.0"), axes = FALSE)
  text(x = rep(1, 8), y = 1:8 - 0.5, labels = 1:8, col = c("white", rep(1, 7)), cex = 1)
dev.off()
```

<center>

![Figure 11.1. Les nouvelles couleurs de R 4.x](999_cahierCouleurs/Figure11-1.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure11-2.pdf", height = 7, width = 7)
  par(mar = c(0, 0, 0, 0))
  plot(0, type = "n", xlim = c(0, 1), ylim = c(0, 1), 
    axes = FALSE, xlab = "", ylab = "")
  numRow <- 26
  numCol <- 26
  rect(
    xleft = rep((0:(numCol - 1)/numCol), numRow),  
    ybottom = sort(
      rep((0:(numRow - 1)/numRow),numCol), 
      decreasing = TRUE),
    xright = rep((1:numCol/numCol), numRow),
    ytop = sort(
      rep((1:numRow/numRow), numCol), 
      decreasing = TRUE),
    border = grey(0.5), 
    col = colors()[seq(1, numRow*numCol)])
  myLabels <- c(
    as.character(1:657), rep("", numRow*numCol - 657))
  text(
    x = rep((0:(numCol - 1)/numCol), numRow) + 0.02,
    y = sort(
      rep((0:(numRow - 1)/numRow), numCol), 
      decreasing = TRUE) + 0.02,
    labels = myLabels, 
    cex = 0.6)
dev.off()
```

<center>

![Figure 11.2. La fonction colors()](999_cahierCouleurs/Figure11-2.pdf)

</center>

```{r, include=FALSE}
graphBarplotCol <- function(n){
  myX <- rnorm(n)
  myY <- rnorm(n)
  myCol <- c(2, 3, 4, sample(2:4, size = (n - 3), replace = TRUE))
  myYCut <- cut(myY, breaks = -4:4)
  myXCut <- cut(myX, breaks = -4:4)
  myYCutCol <- table(myCol, myYCut)
  myXCutCol <- table(myCol, myXCut)
  rColX <- myXCutCol[1,] / (myXCutCol[1,] + myXCutCol[2,] + 
    myXCutCol[3,])
  gColX <- myXCutCol[2,] / (myXCutCol[1,] + myXCutCol[2,] + 
    myXCutCol[3,])
  bColX <- myXCutCol[3,] / (myXCutCol[1,] + myXCutCol[2,] + 
    myXCutCol[3,])
  rColX[is.na(rColX)] <- 0
  gColX[is.na(gColX)] <- 0
  bColX[is.na(bColX)] <- 0
  rColY <- myYCutCol[1,] / (myYCutCol[1,] + myYCutCol[2,] + 
    myYCutCol[3,])
  gColY <- myYCutCol[2,] / (myYCutCol[1,] + myYCutCol[2,] + 
    myYCutCol[3,])
  bColY <- myYCutCol[3,] / (myYCutCol[1,] + myYCutCol[2,] + 
    myYCutCol[3,])
  rColY[is.na(rColY)] <- 0
  gColY[is.na(gColY)] <- 0
  bColY[is.na(bColY)] <- 0
  op <- par(no.readonly = TRUE)
  par(mar = c(2, 3, 1, 1))
  layout(matrix(c(1, 1, 0, 
                  2, 2, 3, 
                  2, 2, 3), ncol = 3, byrow = TRUE))
  barplot(table(myXCut), las = 1, col = rgb(rColX, gColX, bColX))
  plot(x = myX, y = myY, bg = myCol, col = "black", pch = 21, 
    xlim = c(-4, 4), ylim = c(-4, 4), cex = 3, 
    panel.first = grid(lwd = 2))
  barplot(table(myYCut), las = 1, horiz = TRUE, 
    col = rgb(rColY, gColY, bColY))
  par(op)
}
pdf(file = "./999_cahierCouleurs/Figure11-3.pdf", height = 4.5, width = 7)
  graphBarplotCol(n = 50)
dev.off()
```

<center>

![Figure 11.3. Graphique avec rgb()](999_cahierCouleurs/Figure11-3.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure11-4.pdf", height = 2, width = 7)
  myPal <- c(
    rgb(0, 94, 255, maxColorValue = 255),  
    rgb(255, 0, 174, maxColorValue = 255),  
    rgb(255, 136, 0, maxColorValue = 255),  
    rgb(119, 255, 0, maxColorValue = 255))
  myDarkPal <- c(
    "darkblue", 
    "darkred", 
    "darkorange4", 
    "darkgreen")
  print(myPal)
  par(mar = c(2, 2, 1, 1))
  matY <- matrix(runif(100), ncol = 4)
  boxplot(matY, col = myPal, axes = FALSE)
  axis(1)
  axis(2)
  matJitterX <- matrix(
    rnorm(n = 100, mean = 1:4, sd = 0.05), 
    ncol = 4, byrow = TRUE)
  tr <- lapply(1:ncol(matJitterX), function(i){
    points(
      x = matJitterX[,i],
      y = matY[,i],
      bg = myDarkPal[i],
      col = 1, pch = 21, 
    )
  })
dev.off()
```

<center>

![Figure 11.4. Exemple de palette](999_cahierCouleurs/Figure11-4.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure11-5.pdf", height = 2.5, width = 7)
  par(mfrow = c(1, 5), mar = c(0, 0, 2, 0))
  myPals <- list(terrain.colors(10), heat.colors(10), 
    topo.colors(10), cm.colors(10), rainbow(10))
  myPalNames <- c("terrain.colors()", "heat.colors()",
    "topo.colors()", "cm.colors()", "rainbow()")
  tr <- lapply(seq_along(myPals), function(i){
    barplot(
      matrix(
        sample(
          x = 1:2, 
          size = 100, 
          replace = TRUE), 
        ncol = 10), 
      axes = FALSE, 
      main = myPalNames[i], col = myPals[[i]])
  })
dev.off()
```

<center>

![Figure 11.5. Palettes inclues dans R](999_cahierCouleurs/Figure11-5.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure11-6.pdf", height = 2.5, width = 7)
  par(mfrow = c(3, 1), mar = c(0, 0, 0, 0))
  boxplot(
    matrix(runif(2500), ncol = 25), 
    col = colorRampPalette(c('blue', 'red'))(25), 
    axes = FALSE)
  boxplot(
    matrix(runif(2500), ncol = 25), 
    col = colorRampPalette(c('blue', 'white', 'red'))(25), 
    axes = FALSE)
  boxplot(
    matrix(runif(2500), ncol = 25), 
    col =  colorRampPalette(
      c(rgb(255, 136, 0, maxColorValue = 255),  
      rgb(0, 94, 255, maxColorValue = 255)))(25), 
    axes = FALSE)
dev.off()
```

<center>

![Figure 11.6. La fonction colorRampPalette()](999_cahierCouleurs/Figure11-6.pdf)

</center>

```{r, include=FALSE}
pkgCheck <- function(x){ 
  if (!require(x, character.only = TRUE)){
    install.packages(
      x, dependencies = TRUE, quiet = TRUE)
    if(!require(x, character.only = TRUE)) {
      stop()
    }
  }
}
pkgCheck("raster")
pkgCheck("rgdal")
pkgCheck("jpeg")
createPal <- function(photo, met = 1, graph = TRUE, k = 9){
  if(met == 1){
    colR <- getValues(raster(photo, band = 1))
    colG <- getValues(raster(photo, band = 2))
    colB <- getValues(raster(photo, band = 3))
    kMeans <- kmeans(
      data.frame(colR, colG, colB), 
      centers = k)
    kCol <- rgb(kMeans$centers, maxColorValue = 255)[
      order(table(
        kMeans$cluster), decreasing = TRUE)]
    if(graph == TRUE){
      op <- par(no.readonly = TRUE)
      par(mfrow = c (1, 2), mar = c(0, 2, 2, 0))
      myJpg <- readJPEG(
        "./myFiles/photoKmeans.jpg", 
        native = TRUE)
      plot(0:1, 0:1, type = "n", ann = FALSE, axes = FALSE)
      rasterImage(myJpg, 0, 0, 1, 1)
      barplot(
        table(kMeans$cluster)[order(table(kMeans$cluster), 
          decreasing = TRUE)], 
        col = kCol, 
        names.arg = NA)
      par(op)
    }
    return(kCol)
  } else {
    if(met == 2){
      kColR <- kmeans(
        x = getValues(raster(photo, band = 1)), 
        centers = k)
      kColG <- kmeans(
        x = getValues(raster(photo, band = 2)), 
        centers = k)
      kColB <- kmeans(
        x = getValues(raster(photo, band = 3)), 
        centers = k)
      kCol <- rgb(
        kColR$centers, 
        kColG$centers, 
        kColB$centers,
        maxColorValue = 255)
      if(graph == TRUE){
        op <- par(no.readonly = TRUE)
        par(mfrow = c (1, 2), mar = c(0, 2, 2, 0))
        myJpg <- readJPEG(
          "./myFiles/photoKmeans.jpg", 
          native = TRUE)
        plot(x = 0:1, y = 0:1, 
             type = "n", 
             ann = FALSE, 
             axes = FALSE)
        rasterImage(myJpg, 0, 0, 1, 1)
        plot(x = 1:k, y = rep(1, k), ylim = c(0, 1), 
          xlim = c(0, k), axes = FALSE, xlab = "", 
          ylab = "", type = "n")
        for(i in 1:k){
          polygon(
            x = c(i-1, i, i, i-1), 
            y = c(0, 0, 1, 1), 
            col = kCol[i])
          text(x = i - 0.5, y = 0.5, 
            labels = as.character(kCol[i]), srt = 90)
        }
        par(op)
      }
      return(kCol)
    } else {
      print(paste0("No method ", met, "."))
      return(rgb(0, 0, 0))
    }
  }
}
pdf(file = "./999_cahierCouleurs/Figure11-7.pdf", height = 2.5, width = 5)
  myPalMet1 <- createPal(
    photo = "./myFiles/photoKmeans.jpg", 
    met = 1, 
    graph = TRUE, 
    k = 5)
dev.off()
```

<center>

![Figure 11.7. Palette depuis une image, méthode 1](999_cahierCouleurs/Figure11-7.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure11-8.pdf", height = 2.5, width = 5)
  myPalMet2 <- createPal(
    photo = "./myFiles/photoKmeans.jpg", 
    met = 2, 
    graph = TRUE, 
    k = 5)
dev.off()
```

<center>

![Figure 11.8. Palette depuis une image, méthode 2](999_cahierCouleurs/Figure11-8.pdf)

</center>

```{r, include=FALSE}
makeImpact <- function(
    myPal, 
    numP = 300, 
    impact = 0.33, 
    multCex = 3){
  myX <- sample(0:1000, size = numP, replace = TRUE)/1000
  myY <- sample(0:1000, size = numP, replace = TRUE)/1000
  distImpact <- sqrt((myX - impact)^2 + (myY - impact)^2)
  dfXY <- data.frame(myX, myY, distImpact)
  plot(x = dfXY$myX, y = dfXY$myY, axes = FALSE, 
    xlab = "", ylab = "", cex = dfXY$distImpact*multCex, 
    col = myPal, pch = 16)
}
pdf(file = "./999_cahierCouleurs/Figure11-9.pdf", height = 2.5, width = 7)
  par(mfrow = c (1, 2), mar = c(0, 0, 0, 0))
  makeImpact(myPal = myPalMet1, numP = 3000, impact = 0.33)
  makeImpact(myPal = myPalMet2, numP = 3000, impact = 0.66)
dev.off()
```

<center>

![Figure 11.9. Utilisation d'une palette](999_cahierCouleurs/Figure11-9.pdf)

</center>

```{r, include=FALSE}
pkgCheck <- function(x){ 
  if (!require(x, character.only = TRUE)){
    install.packages(x, dependencies = TRUE)
    if(!require(x, character.only = TRUE)) {
      stop()
    }
  }
}
pkgCheck("RColorBrewer")
pdf(file = "./999_cahierCouleurs/Figure12-1.pdf", height = 4, width = 7)
  par(mar = c(0, 4, 0, 0))
  display.brewer.all()
dev.off()
```

<center>

![Figure 12.1. Le package RColorBrewer](999_cahierCouleurs/Figure12-1.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure12-2.pdf", height = 2.5, width = 7)
  par(mar = c(1, 1, 1, 1)) 
  boxplot(matrix(runif(1000), ncol = 10), 
    col = brewer.pal(10, "Paired"), axes = FALSE)
dev.off()
```

<center>

![Figure 12.2. Exemple d'utilisation de RColorBrewer](999_cahierCouleurs/Figure12-2.pdf)

</center>

```{r, include=FALSE}
pkgCheck <- function(x){ 
  if (!require(x, character.only = TRUE)){
    install.packages(x, dependencies = TRUE)
    if(!require(x, character.only = TRUE)) {
      stop()
    }
  }
}
pkgCheck("palettesForR")
pdf(file = "./999_cahierCouleurs/Figure12-3.pdf", height = 2.5, width = 7)
  showPalette(Echo_gpl)
dev.off()
```

<center>

![Figure 12.3. Exemple d'utilisation de paletteForR](999_cahierCouleurs/Figure12-3.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure12-4.pdf", height = 2.5, width = 7)
  groupTest <- sample(1:3, size = 100, replace = TRUE) 
  valueTest <- sample(1:7, size = 100, replace = TRUE)
  tableTest <- table(groupTest, valueTest)
  par(mar = c(2, 0, 0, 0)) # réduction des marges
  barplot(tableTest, 
    col = Echo_gpl, axes = FALSE, beside = TRUE)
dev.off()
```

<center>

![Figure 12.4. Exemple d'utilisation de paletteForR](999_cahierCouleurs/Figure12-4.pdf)

</center>

```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure12-5.pdf", height = 2.5, width = 7)
  groupTest <- sample(1:3, size = 100, replace = TRUE) 
  valueTest <- sample(1:7, size = 100, replace = TRUE)
  tableTest <- table(groupTest, valueTest)
  par(mar = c(2, 0, 0, 0)) # réduction des marges
  barplot(tableTest, 
    col = Tango_gpl, axes = FALSE, beside = TRUE)
dev.off()
```

<center>

![Figure 12.5. Exemple d'utilisation de paletteForR](999_cahierCouleurs/Figure12-5.pdf)

</center>





















```{r, include=FALSE}
pdf(file = "./999_cahierCouleurs/Figure12-XX.pdf", height = 2.5, width = 7)
  plot(1)
dev.off()
```

<center>

![Figure 12.XX. XXXXXXXX](999_cahierCouleurs/Figure12-XX.pdf)

</center>
