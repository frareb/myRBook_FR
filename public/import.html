<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 7 Importer et exporter des données | R pour les scientifiques : Mise en œuvre de projets et valorisation des résultats</title>
  <meta name="description" content="Un guide pour acquérir les bases de la programmation avec R et conduire efficacement la gestion et l’analyse de ses données." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content=" 7 Importer et exporter des données | R pour les scientifiques : Mise en œuvre de projets et valorisation des résultats" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="myFigures/cover.png" />
  <meta property="og:description" content="Un guide pour acquérir les bases de la programmation avec R et conduire efficacement la gestion et l’analyse de ses données." />
  <meta name="github-repo" content="frareb/myRBook_FR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 7 Importer et exporter des données | R pour les scientifiques : Mise en œuvre de projets et valorisation des résultats" />
  
  <meta name="twitter:description" content="Un guide pour acquérir les bases de la programmation avec R et conduire efficacement la gestion et l’analyse de ses données." />
  <meta name="twitter:image" content="myFigures/cover.png" />

<meta name="author" content="François Rebaudo" />


<meta name="date" content="2020-05-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="fonctions.html"/>
<link rel="next" href="algo.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-124666641-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-124666641-2');
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="myStyle.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R pour les scientifiques</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Préambule</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#remerciements"><i class="fa fa-check"></i><b>0.1</b> Remerciements</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#licence"><i class="fa fa-check"></i><b>0.2</b> Licence</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#pourquoi-se-former-à-r"><i class="fa fa-check"></i><b>1.1</b> Pourquoi se former à R</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#ce-livre"><i class="fa fa-check"></i><b>1.2</b> Ce livre</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#lectures-complémentaires-en-français"><i class="fa fa-check"></i><b>1.3</b> Lectures complémentaires en français</a></li>
</ul></li>
<li class="part"><span><b>I Concepts de base</b></span></li>
<li class="chapter" data-level="2" data-path="premiersPas.html"><a href="premiersPas.html"><i class="fa fa-check"></i><b>2</b> Premiers pas</a><ul>
<li class="chapter" data-level="2.1" data-path="premiersPas.html"><a href="premiersPas.html#installation-de-r"><i class="fa fa-check"></i><b>2.1</b> Installation de R</a></li>
<li class="chapter" data-level="2.2" data-path="premiersPas.html"><a href="premiersPas.html#r-comme-calculatrice"><i class="fa fa-check"></i><b>2.2</b> R comme calculatrice</a><ul>
<li class="chapter" data-level="2.2.1" data-path="premiersPas.html"><a href="premiersPas.html#l011opari"><i class="fa fa-check"></i><b>2.2.1</b> Les opérateurs arithmétiques</a></li>
<li class="chapter" data-level="2.2.2" data-path="premiersPas.html"><a href="premiersPas.html#l011opcomp"><i class="fa fa-check"></i><b>2.2.2</b> Les opérateurs de comparaison</a></li>
<li class="chapter" data-level="2.2.3" data-path="premiersPas.html"><a href="premiersPas.html#l011oplog"><i class="fa fa-check"></i><b>2.2.3</b> Les opérateurs logiques</a></li>
<li class="chapter" data-level="2.2.4" data-path="premiersPas.html"><a href="premiersPas.html#aide-sur-les-opérateurs"><i class="fa fa-check"></i><b>2.2.4</b> Aide sur les opérateurs</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="premiersPas.html"><a href="premiersPas.html#l011object"><i class="fa fa-check"></i><b>2.3</b> La notion d’objet</a></li>
<li class="chapter" data-level="2.4" data-path="premiersPas.html"><a href="premiersPas.html#les-scripts"><i class="fa fa-check"></i><b>2.4</b> Les scripts</a><ul>
<li class="chapter" data-level="2.4.1" data-path="premiersPas.html"><a href="premiersPas.html#créer-un-script-et-le-documenter"><i class="fa fa-check"></i><b>2.4.1</b> Créer un script et le documenter</a></li>
<li class="chapter" data-level="2.4.2" data-path="premiersPas.html"><a href="premiersPas.html#exécuter-un-script"><i class="fa fa-check"></i><b>2.4.2</b> Exécuter un script</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="premiersPas.html"><a href="premiersPas.html#conclusion"><i class="fa fa-check"></i><b>2.5</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="IDE.html"><a href="IDE.html"><i class="fa fa-check"></i><b>3</b> Choisir un environnement de développement</a><ul>
<li class="chapter" data-level="3.1" data-path="IDE.html"><a href="IDE.html#editeurs-de-texte-et-environnement-de-développement"><i class="fa fa-check"></i><b>3.1</b> Editeurs de texte et environnement de développement</a></li>
<li class="chapter" data-level="3.2" data-path="IDE.html"><a href="IDE.html#rstudio"><i class="fa fa-check"></i><b>3.2</b> RStudio</a><ul>
<li class="chapter" data-level="3.2.1" data-path="IDE.html"><a href="IDE.html#installer-rstudio"><i class="fa fa-check"></i><b>3.2.1</b> Installer RStudio</a></li>
<li class="chapter" data-level="3.2.2" data-path="IDE.html"><a href="IDE.html#un-script-avec-rstudio"><i class="fa fa-check"></i><b>3.2.2</b> Un script avec RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="IDE.html"><a href="IDE.html#notepad-avec-npp2r"><i class="fa fa-check"></i><b>3.3</b> Notepad++ avec Npp2R</a><ul>
<li class="chapter" data-level="3.3.1" data-path="IDE.html"><a href="IDE.html#installer-notepad-pour-windows-uniquement"><i class="fa fa-check"></i><b>3.3.1</b> Installer Notepad++ (pour Windows uniquement)</a></li>
<li class="chapter" data-level="3.3.2" data-path="IDE.html"><a href="IDE.html#installer-npp2r"><i class="fa fa-check"></i><b>3.3.2</b> Installer Npp2R</a></li>
<li class="chapter" data-level="3.3.3" data-path="IDE.html"><a href="IDE.html#un-script-avec-notepad"><i class="fa fa-check"></i><b>3.3.3</b> Un script avec Notepad++</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="IDE.html"><a href="IDE.html#geany"><i class="fa fa-check"></i><b>3.4</b> Geany</a><ul>
<li class="chapter" data-level="3.4.1" data-path="IDE.html"><a href="IDE.html#installer-geany"><i class="fa fa-check"></i><b>3.4.1</b> Installer Geany</a></li>
<li class="chapter" data-level="3.4.2" data-path="IDE.html"><a href="IDE.html#un-script-avec-geany"><i class="fa fa-check"></i><b>3.4.2</b> Un script avec Geany</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="IDE.html"><a href="IDE.html#autres-solutions"><i class="fa fa-check"></i><b>3.5</b> Autres solutions</a></li>
<li class="chapter" data-level="3.6" data-path="IDE.html"><a href="IDE.html#conclusion-1"><i class="fa fa-check"></i><b>3.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dataType1.html"><a href="dataType1.html"><i class="fa fa-check"></i><b>4</b> Les types de données</a><ul>
<li class="chapter" data-level="4.1" data-path="dataType1.html"><a href="dataType1.html#le-type-numeric"><i class="fa fa-check"></i><b>4.1</b> Le type <code>numeric</code></a></li>
<li class="chapter" data-level="4.2" data-path="dataType1.html"><a href="dataType1.html#le-type-character"><i class="fa fa-check"></i><b>4.2</b> Le type <code>character</code></a></li>
<li class="chapter" data-level="4.3" data-path="dataType1.html"><a href="dataType1.html#le-type-factor"><i class="fa fa-check"></i><b>4.3</b> Le type <code>factor</code></a></li>
<li class="chapter" data-level="4.4" data-path="dataType1.html"><a href="dataType1.html#l013logi"><i class="fa fa-check"></i><b>4.4</b> Le type <code>logical</code></a></li>
<li class="chapter" data-level="4.5" data-path="dataType1.html"><a href="dataType1.html#a-propos-de-na"><i class="fa fa-check"></i><b>4.5</b> A propos de <code>NA</code></a></li>
<li class="chapter" data-level="4.6" data-path="dataType1.html"><a href="dataType1.html#conclusion-2"><i class="fa fa-check"></i><b>4.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dataType2.html"><a href="dataType2.html"><i class="fa fa-check"></i><b>5</b> Les conteneurs de données</a><ul>
<li class="chapter" data-level="5.1" data-path="dataType2.html"><a href="dataType2.html#l014vector"><i class="fa fa-check"></i><b>5.1</b> Le conteneur <code>vector</code></a><ul>
<li class="chapter" data-level="5.1.1" data-path="dataType2.html"><a href="dataType2.html#créer-un-vector"><i class="fa fa-check"></i><b>5.1.1</b> Créer un <code>vector</code></a></li>
<li class="chapter" data-level="5.1.2" data-path="dataType2.html"><a href="dataType2.html#opérations-sur-un-vector"><i class="fa fa-check"></i><b>5.1.2</b> Opérations sur un <code>vector</code></a></li>
<li class="chapter" data-level="5.1.3" data-path="dataType2.html"><a href="dataType2.html#accéder-aux-valeurs-dun-vector"><i class="fa fa-check"></i><b>5.1.3</b> Accéder aux valeurs d’un <code>vector</code></a></li>
<li class="chapter" data-level="5.1.4" data-path="dataType2.html"><a href="dataType2.html#nommer-les-éléments-dun-vector"><i class="fa fa-check"></i><b>5.1.4</b> Nommer les éléments d’un <code>vector</code></a></li>
<li class="chapter" data-level="5.1.5" data-path="dataType2.html"><a href="dataType2.html#modifier-les-éléments-dun-vector"><i class="fa fa-check"></i><b>5.1.5</b> Modifier les éléments d’un <code>vector</code></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="dataType2.html"><a href="dataType2.html#l014list"><i class="fa fa-check"></i><b>5.2</b> Le conteneur <code>list</code></a><ul>
<li class="chapter" data-level="5.2.1" data-path="dataType2.html"><a href="dataType2.html#créer-une-list"><i class="fa fa-check"></i><b>5.2.1</b> Créer une <code>list</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="dataType2.html"><a href="dataType2.html#accéder-aux-valeurs-dune-list"><i class="fa fa-check"></i><b>5.2.2</b> Accéder aux valeurs d’une <code>list</code></a></li>
<li class="chapter" data-level="5.2.3" data-path="dataType2.html"><a href="dataType2.html#modification-dune-list"><i class="fa fa-check"></i><b>5.2.3</b> Modification d’une <code>list</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="dataType2.html"><a href="dataType2.html#l014dataframe"><i class="fa fa-check"></i><b>5.3</b> Le conteneur <code>data.frame</code></a><ul>
<li class="chapter" data-level="5.3.1" data-path="dataType2.html"><a href="dataType2.html#créer-un-data.frame"><i class="fa fa-check"></i><b>5.3.1</b> Créer un <code>data.frame</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="dataType2.html"><a href="dataType2.html#accéder-aux-valeurs-dun-data.frame"><i class="fa fa-check"></i><b>5.3.2</b> Accéder aux valeurs d’un <code>data.frame</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="dataType2.html"><a href="dataType2.html#modifier-un-data.frame"><i class="fa fa-check"></i><b>5.3.3</b> Modifier un <code>data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="dataType2.html"><a href="dataType2.html#l014matrix"><i class="fa fa-check"></i><b>5.4</b> Le conteneur <code>matrix</code></a><ul>
<li class="chapter" data-level="5.4.1" data-path="dataType2.html"><a href="dataType2.html#créer-une-matrix"><i class="fa fa-check"></i><b>5.4.1</b> Créer une <code>matrix</code></a></li>
<li class="chapter" data-level="5.4.2" data-path="dataType2.html"><a href="dataType2.html#manipuler-et-faire-des-opérations-sur-une-matrix"><i class="fa fa-check"></i><b>5.4.2</b> Manipuler et faire des opérations sur une <code>matrix</code></a></li>
<li class="chapter" data-level="5.4.3" data-path="dataType2.html"><a href="dataType2.html#accéder-aux-éléments-dune-matrix"><i class="fa fa-check"></i><b>5.4.3</b> Accéder aux éléments d’une <code>matrix</code></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="dataType2.html"><a href="dataType2.html#l014array"><i class="fa fa-check"></i><b>5.5</b> Le conteneur <code>array</code></a><ul>
<li class="chapter" data-level="5.5.1" data-path="dataType2.html"><a href="dataType2.html#créer-un-array"><i class="fa fa-check"></i><b>5.5.1</b> Créer un <code>array</code></a></li>
<li class="chapter" data-level="5.5.2" data-path="dataType2.html"><a href="dataType2.html#manipuler-un-array"><i class="fa fa-check"></i><b>5.5.2</b> Manipuler un <code>array</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="dataType2.html"><a href="dataType2.html#conclusion-3"><i class="fa fa-check"></i><b>5.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="fonctions.html"><a href="fonctions.html"><i class="fa fa-check"></i><b>6</b> Les fonctions</a><ul>
<li class="chapter" data-level="6.1" data-path="fonctions.html"><a href="fonctions.html#quest-ce-quune-fonction"><i class="fa fa-check"></i><b>6.1</b> Qu’est-ce qu’une fonction</a></li>
<li class="chapter" data-level="6.2" data-path="fonctions.html"><a href="fonctions.html#l015mainfun"><i class="fa fa-check"></i><b>6.2</b> Les fonctions les plus courantes</a><ul>
<li class="chapter" data-level="6.2.1" data-path="fonctions.html"><a href="fonctions.html#laccès-à-la-documentation"><i class="fa fa-check"></i><b>6.2.1</b> L’accès à la documentation</a></li>
<li class="chapter" data-level="6.2.2" data-path="fonctions.html"><a href="fonctions.html#visualiser-les-données"><i class="fa fa-check"></i><b>6.2.2</b> Visualiser les données</a></li>
<li class="chapter" data-level="6.2.3" data-path="fonctions.html"><a href="fonctions.html#manipuler-les-données"><i class="fa fa-check"></i><b>6.2.3</b> Manipuler les données</a></li>
<li class="chapter" data-level="6.2.4" data-path="fonctions.html"><a href="fonctions.html#fonctions-mathématiques"><i class="fa fa-check"></i><b>6.2.4</b> Fonctions mathématiques</a></li>
<li class="chapter" data-level="6.2.5" data-path="fonctions.html"><a href="fonctions.html#statistiques-descriptives"><i class="fa fa-check"></i><b>6.2.5</b> Statistiques descriptives</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="fonctions.html"><a href="fonctions.html#autres-fonctions-utiles"><i class="fa fa-check"></i><b>6.3</b> Autres fonctions utiles</a><ul>
<li class="chapter" data-level="6.3.1" data-path="fonctions.html"><a href="fonctions.html#l015seqalong"><i class="fa fa-check"></i><b>6.3.1</b> <code>seq_along()</code></a></li>
<li class="chapter" data-level="6.3.2" data-path="fonctions.html"><a href="fonctions.html#l0152points"><i class="fa fa-check"></i><b>6.3.2</b> <code>:</code></a></li>
<li class="chapter" data-level="6.3.3" data-path="fonctions.html"><a href="fonctions.html#l015rep"><i class="fa fa-check"></i><b>6.3.3</b> <code>rep()</code></a></li>
<li class="chapter" data-level="6.3.4" data-path="fonctions.html"><a href="fonctions.html#l015seq"><i class="fa fa-check"></i><b>6.3.4</b> <code>seq()</code></a></li>
<li class="chapter" data-level="6.3.5" data-path="fonctions.html"><a href="fonctions.html#l015getwd"><i class="fa fa-check"></i><b>6.3.5</b> <code>getwd()</code></a></li>
<li class="chapter" data-level="6.3.6" data-path="fonctions.html"><a href="fonctions.html#l015setwd"><i class="fa fa-check"></i><b>6.3.6</b> <code>setwd()</code></a></li>
<li class="chapter" data-level="6.3.7" data-path="fonctions.html"><a href="fonctions.html#l015listfiles"><i class="fa fa-check"></i><b>6.3.7</b> <code>list.files()</code></a></li>
<li class="chapter" data-level="6.3.8" data-path="fonctions.html"><a href="fonctions.html#l015ls"><i class="fa fa-check"></i><b>6.3.8</b> <code>ls()</code></a></li>
<li class="chapter" data-level="6.3.9" data-path="fonctions.html"><a href="fonctions.html#l015rm"><i class="fa fa-check"></i><b>6.3.9</b> <code>rm()</code></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="fonctions.html"><a href="fonctions.html#quelques-exercices"><i class="fa fa-check"></i><b>6.4</b> Quelques exercices</a><ul>
<li class="chapter" data-level="6.4.1" data-path="fonctions.html"><a href="fonctions.html#séquences"><i class="fa fa-check"></i><b>6.4.1</b> Séquences</a></li>
<li class="chapter" data-level="6.4.2" data-path="fonctions.html"><a href="fonctions.html#statistiques-descriptives-1"><i class="fa fa-check"></i><b>6.4.2</b> Statistiques descriptives</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="fonctions.html"><a href="fonctions.html#l015function"><i class="fa fa-check"></i><b>6.5</b> Ecrire une fonction</a></li>
<li class="chapter" data-level="6.6" data-path="fonctions.html"><a href="fonctions.html#les-packages"><i class="fa fa-check"></i><b>6.6</b> Les packages</a><ul>
<li class="chapter" data-level="6.6.1" data-path="fonctions.html"><a href="fonctions.html#installer-un-package"><i class="fa fa-check"></i><b>6.6.1</b> Installer un package</a></li>
<li class="chapter" data-level="6.6.2" data-path="fonctions.html"><a href="fonctions.html#charger-un-package"><i class="fa fa-check"></i><b>6.6.2</b> Charger un package</a></li>
<li class="chapter" data-level="6.6.3" data-path="fonctions.html"><a href="fonctions.html#portabilité-du-code"><i class="fa fa-check"></i><b>6.6.3</b> Portabilité du code</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="fonctions.html"><a href="fonctions.html#conclusion-4"><i class="fa fa-check"></i><b>6.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="import.html"><a href="import.html"><i class="fa fa-check"></i><b>7</b> Importer et exporter des données</a><ul>
<li class="chapter" data-level="7.1" data-path="import.html"><a href="import.html#l016read"><i class="fa fa-check"></i><b>7.1</b> Lire des données depuis un fichier</a><ul>
<li class="chapter" data-level="7.1.1" data-path="import.html"><a href="import.html#l016transfo"><i class="fa fa-check"></i><b>7.1.1</b> Transformer ses données au format TXT ou CSV</a></li>
<li class="chapter" data-level="7.1.2" data-path="import.html"><a href="import.html#l016readCSV"><i class="fa fa-check"></i><b>7.1.2</b> Lire un fichier CSV</a></li>
<li class="chapter" data-level="7.1.3" data-path="import.html"><a href="import.html#l016readTXT"><i class="fa fa-check"></i><b>7.1.3</b> Lire un fichier texte</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="import.html"><a href="import.html#l016save"><i class="fa fa-check"></i><b>7.2</b> Exporter ou charger des données pour R</a></li>
<li class="chapter" data-level="7.3" data-path="import.html"><a href="import.html#l016write"><i class="fa fa-check"></i><b>7.3</b> Exporter des données</a></li>
<li class="chapter" data-level="7.4" data-path="import.html"><a href="import.html#conclusion-5"><i class="fa fa-check"></i><b>7.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="algo.html"><a href="algo.html"><i class="fa fa-check"></i><b>8</b> Algorithmique</a><ul>
<li class="chapter" data-level="8.1" data-path="algo.html"><a href="algo.html#l17if"><i class="fa fa-check"></i><b>8.1</b> Tests logiques avec <code>if</code></a></li>
<li class="chapter" data-level="8.2" data-path="algo.html"><a href="algo.html#l17switch"><i class="fa fa-check"></i><b>8.2</b> Tests logiques avec <code>switch</code></a></li>
<li class="chapter" data-level="8.3" data-path="algo.html"><a href="algo.html#l17for"><i class="fa fa-check"></i><b>8.3</b> La boucle <code>for</code></a></li>
<li class="chapter" data-level="8.4" data-path="algo.html"><a href="algo.html#l17while"><i class="fa fa-check"></i><b>8.4</b> La boucle <code>while</code></a></li>
<li class="chapter" data-level="8.5" data-path="algo.html"><a href="algo.html#l17repeat"><i class="fa fa-check"></i><b>8.5</b> La boucle <code>repeat</code></a></li>
<li class="chapter" data-level="8.6" data-path="algo.html"><a href="algo.html#l17spe"><i class="fa fa-check"></i><b>8.6</b> <code>next</code> et <code>break</code></a></li>
<li class="chapter" data-level="8.7" data-path="algo.html"><a href="algo.html#l17applyfamily"><i class="fa fa-check"></i><b>8.7</b> Les boucles de la famille <code>apply</code></a><ul>
<li class="chapter" data-level="8.7.1" data-path="algo.html"><a href="algo.html#l17apply"><i class="fa fa-check"></i><b>8.7.1</b> <code>apply</code></a></li>
<li class="chapter" data-level="8.7.2" data-path="algo.html"><a href="algo.html#l17sapply"><i class="fa fa-check"></i><b>8.7.2</b> <code>lapply</code></a></li>
<li class="chapter" data-level="8.7.3" data-path="algo.html"><a href="algo.html#l17lapply"><i class="fa fa-check"></i><b>8.7.3</b> <code>sapply</code></a></li>
<li class="chapter" data-level="8.7.4" data-path="algo.html"><a href="algo.html#l17tapply"><i class="fa fa-check"></i><b>8.7.4</b> <code>tapply</code></a></li>
<li class="chapter" data-level="8.7.5" data-path="algo.html"><a href="algo.html#l17mapply"><i class="fa fa-check"></i><b>8.7.5</b> <code>mapply</code></a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="algo.html"><a href="algo.html#conclusion-6"><i class="fa fa-check"></i><b>8.8</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="project.html"><a href="project.html"><i class="fa fa-check"></i><b>9</b> Gestion d’un projet avec R</a><ul>
<li class="chapter" data-level="9.1" data-path="project.html"><a href="project.html#gestion-des-fichiers-et-des-répertoires-de-travail"><i class="fa fa-check"></i><b>9.1</b> Gestion des fichiers et des répertoires de travail</a></li>
<li class="chapter" data-level="9.2" data-path="project.html"><a href="project.html#gestion-des-versions-de-script"><i class="fa fa-check"></i><b>9.2</b> Gestion des versions de script</a></li>
<li class="chapter" data-level="9.3" data-path="project.html"><a href="project.html#gestion-de-la-documentation"><i class="fa fa-check"></i><b>9.3</b> Gestion de la documentation</a></li>
<li class="chapter" data-level="9.4" data-path="project.html"><a href="project.html#communiquer-avec-rmarkdown"><i class="fa fa-check"></i><b>9.4</b> Communiquer avec rmarkdown</a></li>
<li class="chapter" data-level="9.5" data-path="project.html"><a href="project.html#conclusion-7"><i class="fa fa-check"></i><b>9.5</b> Conclusion</a></li>
</ul></li>
<li class="part"><span><b>II Les graphiques</b></span></li>
<li class="chapter" data-level="10" data-path="graph1.html"><a href="graph1.html"><i class="fa fa-check"></i><b>10</b> Graphiques simples</a><ul>
<li class="chapter" data-level="10.1" data-path="graph1.html"><a href="graph1.html#graph1plot"><i class="fa fa-check"></i><b>10.1</b> <code>plot</code></a></li>
<li class="chapter" data-level="10.2" data-path="graph1.html"><a href="graph1.html#graph1hist"><i class="fa fa-check"></i><b>10.2</b> <code>hist</code></a></li>
<li class="chapter" data-level="10.3" data-path="graph1.html"><a href="graph1.html#graph1barplot"><i class="fa fa-check"></i><b>10.3</b> <code>barplot</code></a></li>
<li class="chapter" data-level="10.4" data-path="graph1.html"><a href="graph1.html#graph1boxplot"><i class="fa fa-check"></i><b>10.4</b> <code>boxplot</code></a></li>
<li class="chapter" data-level="10.5" data-path="graph1.html"><a href="graph1.html#autres-graphiques"><i class="fa fa-check"></i><b>10.5</b> Autres graphiques</a></li>
<li class="chapter" data-level="10.6" data-path="graph1.html"><a href="graph1.html#conclusion-8"><i class="fa fa-check"></i><b>10.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="graph2.html"><a href="graph2.html"><i class="fa fa-check"></i><b>11</b> La gestion des couleurs</a><ul>
<li class="chapter" data-level="11.1" data-path="graph2.html"><a href="graph2.html#colors"><i class="fa fa-check"></i><b>11.1</b> <code>colors()</code></a></li>
<li class="chapter" data-level="11.2" data-path="graph2.html"><a href="graph2.html#rgb"><i class="fa fa-check"></i><b>11.2</b> <code>rgb()</code></a></li>
<li class="chapter" data-level="11.3" data-path="graph2.html"><a href="graph2.html#palettes"><i class="fa fa-check"></i><b>11.3</b> Palettes</a></li>
<li class="chapter" data-level="11.4" data-path="graph2.html"><a href="graph2.html#conclusion-9"><i class="fa fa-check"></i><b>11.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="graph3.html"><a href="graph3.html"><i class="fa fa-check"></i><b>12</b> Les packages graphiques</a><ul>
<li class="chapter" data-level="12.1" data-path="graph3.html"><a href="graph3.html#les-packages-de-palettes"><i class="fa fa-check"></i><b>12.1</b> les packages de palettes</a><ul>
<li class="chapter" data-level="12.1.1" data-path="graph3.html"><a href="graph3.html#rcolorbrewer"><i class="fa fa-check"></i><b>12.1.1</b> <code>RColorBrewer</code></a></li>
<li class="chapter" data-level="12.1.2" data-path="graph3.html"><a href="graph3.html#palettesforr"><i class="fa fa-check"></i><b>12.1.2</b> <code>palettesForR</code></a></li>
<li class="chapter" data-level="12.1.3" data-path="graph3.html"><a href="graph3.html#les-autres-packages"><i class="fa fa-check"></i><b>12.1.3</b> Les autres packages</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="graph3.html"><a href="graph3.html#ggplot2-package"><i class="fa fa-check"></i><b>12.2</b> ggplot2 package</a></li>
<li class="chapter" data-level="12.3" data-path="graph3.html"><a href="graph3.html#les-graphiques-interactifs-et-dynamiques-avec-plotly"><i class="fa fa-check"></i><b>12.3</b> Les graphiques interactifs et dynamiques avec <code>Plotly</code></a></li>
<li class="chapter" data-level="12.4" data-path="graph3.html"><a href="graph3.html#conclusion-10"><i class="fa fa-check"></i><b>12.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="graph4.html"><a href="graph4.html"><i class="fa fa-check"></i><b>13</b> Du graphique à la figure dans un article scientifique</a><ul>
<li class="chapter" data-level="13.1" data-path="graph4.html"><a href="graph4.html#inkscape"><i class="fa fa-check"></i><b>13.1</b> Inkscape</a></li>
<li class="chapter" data-level="13.2" data-path="graph4.html"><a href="graph4.html#the-gimp"><i class="fa fa-check"></i><b>13.2</b> The Gimp</a></li>
<li class="chapter" data-level="13.3" data-path="graph4.html"><a href="graph4.html#table-de-référence"><i class="fa fa-check"></i><b>13.3</b> Table de référence</a></li>
<li class="chapter" data-level="13.4" data-path="graph4.html"><a href="graph4.html#conclusion-11"><i class="fa fa-check"></i><b>13.4</b> Conclusion</a></li>
</ul></li>
<li class="part"><span><b>III Annexes</b></span></li>
<li class="chapter" data-level="14" data-path="studyCase001.html"><a href="studyCase001.html"><i class="fa fa-check"></i><b>14</b> Manipuler des dates et des heures</a></li>
<li class="chapter" data-level="15" data-path="studyCase002.html"><a href="studyCase002.html"><i class="fa fa-check"></i><b>15</b> Internet, manipuler des URLs</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R pour les scientifiques : Mise en œuvre de projets et valorisation des résultats</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="import" class="section level1">
<h1><span class="header-section-number"> 7</span> Importer et exporter des données</h1>

<div id="l016read" class="section level2">
<h2><span class="header-section-number">7.1</span> Lire des données depuis un fichier</h2>
<div id="l016transfo" class="section level3">
<h3><span class="header-section-number">7.1.1</span> Transformer ses données au format TXT ou CSV</h3>
<p>Il existe de nombreuses façons de lire le contenu d’un fichier avec R. Cependant nous nous focaliserons sur la lecture des fichiers TXT et CSV qui sont les plus communs et les plus fiables. A de rares exceptions près tous les fichiers de données peuvent très facilement être transformés aux formats TXT et CSV. C’est la pratique à préférer pour une analyse des données avec R. Dans tous les autres cas et pour couvrir l’ensemble des possibilités avec R, nous pourrons nous référer au manuel de référence sur l’import et l’export de données sur le site web de R (en anglais ; <a href="https://cran.r-project.org/manuals.html" class="uri">https://cran.r-project.org/manuals.html</a>).</p>
<p>Concrètement, depuis Microsoft Excel, il suffit d’aller dans <em>Fichier</em>, puis <em>Enregistrer sous</em>, de sélectionner l’endroit où nous souhaitons sauvegarder notre fichier (cf. chapitre suivant sur la gestion d’un projet R) puis dans la fenêtre de sauvegarde changer le <em>Type</em> depuis XLSX vers CSV. Depuis LibreOffice Calc, il suffit d’aller dans <em>Fichier</em>, puis <em>Enregistrer sous</em>, puis de sélectionner le <em>Type</em> CSV. Il est important de savoir que le format CSV ne supporte pas la mise en forme des fichiers tableurs avec par exemple des couleurs, et que le fichier CSV ne contient qu’un seul onglet. Si nous avons un fichier tableur avec plusieurs onglets, il faudra sauvegarder autant de fichiers CSV que d’onglets.</p>
<p>CSV vient de l’anglais <em>Comma-separated values</em> (<a href="https://fr.wikipedia.org/wiki/Comma-separated_values" class="uri">https://fr.wikipedia.org/wiki/Comma-separated_values</a>), et représente des données de tableur au format texte séparées par des virgules (ou des points virgules suivant les pays). Un fichier CSV pourra toujours s’ouvrir avec notre logiciel de tableur, mais aussi avec un simple éditeur de texte comme le bloc-notes de Windows ou encore avec Notepad++. Il est d’ailleurs préférable d’ouvrir les fichiers CSV avec un éditeur de texte car les tableurs ont la fâcheuse tendance à vouloir modifier automatiquement les fichiers CSV et cela a pour conséquence de les rendre difficiles à lire.</p>
<p>Une fois le fichier TXT ou CSV obtenu, la lecture du contenu depuis R est facile, même si elle demande un peu de rigueur.</p>
</div>
<div id="l016readCSV" class="section level3">
<h3><span class="header-section-number">7.1.2</span> Lire un fichier CSV</h3>
<p>C’est la source d’erreur la plus commune chez les débutants en R. C’est pourquoi il est important de lire et de relire ce chapitre et celui sur la gestion d’un projet R avec beaucoup d’attention.</p>
<p>Commençons par préciser que R travaille dans un répertoire défini par défaut. Les utilisateurs de Rstudio ou autre <a href="IDE.html#IDE">environnement de développement</a> spécialisés pour R seront tentés d’utiliser les options disponibles via les menus pour définir leur répertoire de travail ou pour charger le contenu d’un fichier. Dans ce livre ces techniques ne seront jamais utilisées car elles ne permettent pas la reproductibilité des résultats. Un script doit toujours pouvoir fonctionner pour tous les systèmes d’exploitation et quel que soit <a href="IDE.html#IDE">l’environnement de développement</a> de l’utilisateur.</p>
<p>Le répertoire de travail par défaut peut être obtenu avec la fonction <a href="fonctions.html#l015getwd"><code>getwd()</code></a> et spécifié avec la fonction <a href="fonctions.html#l015setwd"><code>setwd()</code></a>.</p>
<div class="sourceCode" id="cb956"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb956-1" title="1">oldWd &lt;-<span class="st"> </span><span class="kw">getwd</span>()</a>
<a class="sourceLine" id="cb956-2" title="2"><span class="kw">print</span>(oldWd)</a></code></pre></div>
<pre><code>## [1] &quot;/home/fr/myRBook_FR&quot;</code></pre>
<div class="sourceCode" id="cb958"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb958-1" title="1"><span class="kw">setwd</span>(<span class="st">&quot;..&quot;</span>)</a>
<a class="sourceLine" id="cb958-2" title="2"><span class="kw">getwd</span>()</a></code></pre></div>
<pre><code>## [1] &quot;/home/fr&quot;</code></pre>
<div class="sourceCode" id="cb960"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb960-1" title="1"><span class="kw">setwd</span>(oldWd)</a>
<a class="sourceLine" id="cb960-2" title="2"><span class="kw">getwd</span>()</a></code></pre></div>
<pre><code>## [1] &quot;/home/fr/myRBook_FR&quot;</code></pre>
<p>Nous avons donc quatre options :</p>
<ul>
<li>nous pouvons lire le contenu d’un fichier en indiquant à R son chemin complet (à proscrire pour la reproductibilité des résultats, en effet le chemin complet varie d’un ordinateur à un autre)</li>
<li>nous pouvons lire le contenu d’un fichier en indiquant à R son chemin relatif</li>
<li>nous pouvons déplacer le fichier dans le répertoire de travail de R par défaut</li>
<li>nous pouvons modifier le répertoire de travail de R pour qu’il corresponde à l’emplacement de notre fichier (avec son chemin relatif)</li>
</ul>
<p>Un exemple de chemin complet serait :</p>
<ul>
<li>“<code>/home/myName/myFile.csv</code>” sous un environnement UNIX</li>
<li>“<code>C:/users/myName/myFile.csv</code>” sous un environnement Windows (attention, sous R nous utilisons <code>/</code> et non pas <code>\</code> comme c’est le cas par défaut sous Windows)</li>
</ul>
<p>Un chemin relatif serait :</p>
<ul>
<li><code>myName/myFiles.csv</code></li>
</ul>
<p>Pour naviguer dans les chemins relatifs nous pouvons utiliser “<code>..</code>” qui permet de remonter dans le répertoire source. Par exemple si le répertoire de travail est <code>myScripts</code> et que l’arborescence de mes fichiers est ainsi :</p>
<pre><code>## -myProject
## |-myFiles
## |-|-data01.csv
## |-|-data02.csv
## |-myScripts
## |-|-myFirstScript.R</code></pre>
<p>Le chemin relatif vers le fichier “<code>data01.csv</code>” serait “<code>../myFiles/data01.csv</code>”.</p>
<p>Donc pour lire le contenu du fichier <code>data01.csv</code>, nous allons privilégier l’option 2 (lire le contenu d’un fichier en indiquant à R son chemin relatif) ou l’option 4 (modifier le répertoire de travail de R pour qu’il corresponde à l’emplacement de notre fichier). Dans ce dernier cas :</p>
<div class="sourceCode" id="cb963"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb963-1" title="1">myWD &lt;-<span class="st"> &quot;../myFiles/&quot;</span></a>
<a class="sourceLine" id="cb963-2" title="2"><span class="kw">setwd</span>(myWd)</a>
<a class="sourceLine" id="cb963-3" title="3"><span class="kw">getwd</span>() <span class="co"># pour vérifier que nous sommes dans le bon répertoire</span></a>
<a class="sourceLine" id="cb963-4" title="4"><span class="kw">list.files</span>() <span class="co"># pour vérifier que le fichier se trouve bien ici</span></a></code></pre></div>
<p>L’erreur la plus commune :</p>
<pre><code>## Error in setwd(&quot;../myFiles/&quot;) : 
## impossible de changer de répertoire de travail</code></pre>
<p>Cela veut dire que le répertoire n’existe pas (il faut vérifier que la syntaxe est correcte et que le répertoire existe bien avec ce chemin).</p>
<p>Une fois le répertoire de travail correctement défini ou le chemin relatif vers le fichier correctement établi, nous pouvons lire le fichier avec la fonction <code>read.table()</code>. Certains utilisent la fonction <code>read.csv()</code> mais ce n’est qu’un cas particulier de la fonction <code>read.table()</code>.</p>
<div class="sourceCode" id="cb965"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb965-1" title="1">myWD &lt;-<span class="st"> &quot;../myFiles/&quot;</span></a>
<a class="sourceLine" id="cb965-2" title="2"><span class="kw">setwd</span>(myWd)</a>
<a class="sourceLine" id="cb965-3" title="3"><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&quot;data01.csv&quot;</span>)</a></code></pre></div>
<p>ou alternativement :</p>
<div class="sourceCode" id="cb966"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb966-1" title="1"><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&quot;../myFiles/data01.csv&quot;</span>)</a></code></pre></div>
<p>Si le chemin n’est pas correctement renseigné ou si le fichier de données n’existe pas, R renverra l’erreur suivante :</p>
<pre><code>## Error in file(file, &quot;rt&quot;) : impossible d&#39;ouvrir la connexion
## De plus : Warning message:
## In file(file, &quot;rt&quot;) :
##   impossible d&#39;ouvrir le fichier &#39;../myFiles/data01.csv&#39; : 
##   No such file or directory</code></pre>
<p>Si tout va bien, R affiche le contenu du fichier “<code>data01.csv</code>”. Attention aux utilisateurs de Windows car par défaut le nom des fichiers apparaît sans leur extension… Ainsi lorsque nous naviguons dans les répertoires avec l’explorateur de fichiers, il n’y a pas de fichier “<code>data01.csv</code>” mais uniquement un fichier “<code>data01</code>”. Il est indispensable de remédier à ce problème pour éviter les erreurs. Pour ce faire il suffit d’ouvrir les ‘Options de l’Explorateur de fichiers’ via la touche ‘Windows’, puis dans l’onglet ‘Affichage’, de vérifier que l’option ‘Masquer les extensions des fichiers dont le type est connu’ est bien décochée.</p>
<p>En consultant l’aide sur la fonction <code>read.table()</code>, nous pouvons voir qu’elle possède de nombreux arguments. Les principaux sont les suivants :</p>
<ul>
<li><code>header = FALSE</code> : est-ce que le fichier contient des noms de colonnes ? Si oui alors il faut changer la valeur pour <code>header = TRUE</code></li>
<li><code>sep = ""</code> : comment sont séparées les données de la table ? Dans un fichier CSV il s’agit de la virgule ou du point-virgule, donc à changer pour <code>sep = ","</code> ou <code>sep = ";"</code></li>
<li><code>dec = "."</code> : quel est le séparateur des nombres décimaux ? Si c’est la virgule alors il faut changer pour <code>dec = ","</code></li>
</ul>
<p>Avec ces trois arguments la plupart des fichiers pourront être lus sans problème. En cas de besoin l’aide est faite pour être consultée, et elle est très complète.</p>
<p>La fonction <code>read.table()</code> renvoie le contenu du fichier sous forme d’une <code>data.frame</code>. Pour pouvoir utiliser le contenu du fichier nous allons donc stocker la <code>data.frame</code> dans un objet.</p>
<div class="sourceCode" id="cb968"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb968-1" title="1">myWD &lt;-<span class="st"> &quot;../myFiles/&quot;</span></a>
<a class="sourceLine" id="cb968-2" title="2"><span class="kw">setwd</span>(myWd)</a>
<a class="sourceLine" id="cb968-3" title="3">data01 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&quot;data01.csv&quot;</span>)</a>
<a class="sourceLine" id="cb968-4" title="4"><span class="kw">str</span>(data01) <span class="co"># vérifier le format des données</span></a>
<a class="sourceLine" id="cb968-5" title="5"><span class="kw">head</span>(data01) <span class="co"># vérifier les premières données</span></a></code></pre></div>
<p>Voici un exemple où la première ligne est ignorée avec l’argument <code>skip = 1</code>.</p>
<div class="sourceCode" id="cb969"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb969-1" title="1"><span class="co"># Affichage du fichier brut (10 premières lignes)</span></a>
<a class="sourceLine" id="cb969-2" title="2"><span class="kw">readLines</span>(<span class="st">&quot;myFiles/E05C13.csv&quot;</span>, <span class="dt">n =</span> <span class="dv">10</span>)</a></code></pre></div>
<pre><code>## [1] &quot;\&quot;Titre de tracé : E05C13\&quot;&quot;
## [2] &quot;\&quot;#\&quot;,\&quot;Date Heure, GMT-04:00\&quot;,\&quot;Temp., °C (LGR S/N:
10362176, SEN S/N: 10362176)\&quot;&quot;
## [3] &quot;1,11/12/15 23:00:00,4.973&quot;
## [4] &quot;2,11/12/15 23:30:00,4.766&quot;
## [5] &quot;3,11/13/15 00:00:00,4.844&quot;
## [6] &quot;4,11/13/15 00:30:00,4.844&quot;
## [7] &quot;5,11/13/15 01:00:00,5.076&quot;
## [8] &quot;6,11/13/15 01:30:00,5.282&quot;
## [9] &quot;7,11/13/15 02:00:00,5.308&quot;
## [10] &quot;8,11/13/15 02:30:00,5.385&quot;</code></pre>
<div class="sourceCode" id="cb971"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb971-1" title="1"><span class="co"># lecture du fichier avec R</span></a>
<a class="sourceLine" id="cb971-2" title="2">bdd &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;myFiles/E05C13.csv&quot;</span>, <span class="dt">skip =</span> <span class="dv">1</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb971-3" title="3">  <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">dec =</span> <span class="st">&quot;.&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb971-4" title="4"><span class="kw">colnames</span>(bdd) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;date&quot;</span>, <span class="st">&quot;temp&quot;</span>)</a>
<a class="sourceLine" id="cb971-5" title="5"><span class="kw">head</span>(bdd)</a></code></pre></div>
<pre><code>##   id              date  temp
## 1  1 11/12/15 23:00:00 4.973
## 2  2 11/12/15 23:30:00 4.766
## 3  3 11/13/15 00:00:00 4.844
## 4  4 11/13/15 00:30:00 4.844
## 5  5 11/13/15 01:00:00 5.076
## 6  6 11/13/15 01:30:00 5.282</code></pre>
<div class="sourceCode" id="cb973"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb973-1" title="1"><span class="kw">tail</span>(bdd)</a></code></pre></div>
<pre><code>##          id              date  temp
## 32781 32781 09/25/17 21:00:00 7.091
## 32782 32782 09/25/17 21:30:00 6.914
## 32783 32783 09/25/17 22:00:00 6.813
## 32784 32784 09/25/17 22:30:00 6.611
## 32785 32785 09/25/17 23:00:00 6.331
## 32786 32786 09/25/17 23:30:00 5.385</code></pre>
<div class="sourceCode" id="cb975"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb975-1" title="1"><span class="kw">str</span>(bdd)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;: 32786 obs. of 3 variables:
## $ id : int 1 2 3 4 5 6 7 8 9 10 ...
## $ date: chr &quot;11/12/15 23:00:00&quot; &quot;11/12/15 23:30:00&quot; &quot;11/13/15
00:00:00&quot; &quot;11/13/15 00:30:00&quot; ...
## $ temp: num 4.97 4.77 4.84 4.84 5.08 ...</code></pre>
</div>
<div id="l016readTXT" class="section level3">
<h3><span class="header-section-number">7.1.3</span> Lire un fichier texte</h3>
<p>La fonction la plus simple pour lire un fichier contenant du texte est <code>readLines()</code>. Voici un exemple avec le fichier _bookdown.yml de ce livre, que l’on retrouve sur GitHub.</p>
<div class="sourceCode" id="cb977"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb977-1" title="1"><span class="co"># découpage de l&#39;URL puis collage avec paste0() </span></a>
<a class="sourceLine" id="cb977-2" title="2"><span class="co"># pour tenir sur plusieurs lignes</span></a>
<a class="sourceLine" id="cb977-3" title="3">readmeGitHub &lt;-<span class="st"> </span><span class="kw">paste0</span>(</a>
<a class="sourceLine" id="cb977-4" title="4">  <span class="st">&quot;https://raw.githubusercontent.com/&quot;</span>, </a>
<a class="sourceLine" id="cb977-5" title="5">  <span class="st">&quot;frareb/myRBook_FR/master/_bookdown.yml&quot;</span>)</a>
<a class="sourceLine" id="cb977-6" title="6"><span class="kw">readLines</span>(readmeGitHub)</a></code></pre></div>
<pre><code>## [1] &quot;---&quot;                          
## [2] &quot;book_filename: \&quot;myRBook_FR\&quot;&quot;
## [3] &quot;output_dir: public&quot;           
## [4] &quot;language: &quot;                   
## [5] &quot;  ui:&quot;                        
## [6] &quot;    chapter_name: \&quot; \&quot;&quot;      
## [7] &quot;delete_merged_file: true&quot;     
## [8] &quot;---&quot;</code></pre>
<p>Il existe aussi la fonction <code>scan()</code> qui va renvoyer l’ensemble des mots séparés par des espaces. Nous pouvons consulter l’aide pour plus d’information.</p>
<div class="sourceCode" id="cb979"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb979-1" title="1"><span class="kw">scan</span>(readmeGitHub, <span class="dt">what =</span> <span class="st">&quot;character&quot;</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;---&quot;                 &quot;book_filename:&quot;     
##  [3] &quot;myRBook_FR&quot;          &quot;output_dir:&quot;        
##  [5] &quot;public&quot;              &quot;language:&quot;          
##  [7] &quot;ui:&quot;                 &quot;chapter_name:&quot;      
##  [9] &quot; &quot;                   &quot;delete_merged_file:&quot;
## [11] &quot;true&quot;                &quot;---&quot;</code></pre>
</div>
</div>
<div id="l016save" class="section level2">
<h2><span class="header-section-number">7.2</span> Exporter ou charger des données pour R</h2>
<p>Il est parfois utile de pouvoir sauvegarder un objet R pour pouvoir le réutiliser plus tard. C’est le cas par exemple lorsque le temps de calcul pour arriver à un résultat est très long, ou alors lorsque l’on souhaite libérer de l’espace dans la RAM. Pour ce faire il existe la fonction <code>save()</code> qui prend comme argument principal le nom du ou des objets que nous voulons sauvegarder.</p>
<p>L’objet sauvé va être stocké dans un fichier. Par convention, il est bon de donner le nom d’extension <code>.RData</code> aux fichiers contenant des objets R, de préférer un seul objet par fichier, et de donner le nom de l’objet comme nom de fichier.</p>
<div class="sourceCode" id="cb981"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb981-1" title="1"><span class="co"># Création de l&#39;objet myObject</span></a>
<a class="sourceLine" id="cb981-2" title="2">myObject &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb981-3" title="3"><span class="co"># Vérification de l&#39;existence de l&#39;objet</span></a>
<a class="sourceLine" id="cb981-4" title="4"><span class="kw">ls</span>(<span class="dt">pattern =</span> <span class="st">&quot;myObject&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;myObject&quot;</code></pre>
<div class="sourceCode" id="cb983"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb983-1" title="1"><span class="co"># Sauvegarde de l&#39;objet dans un fichier RData</span></a>
<a class="sourceLine" id="cb983-2" title="2"><span class="kw">save</span>(myObject, <span class="dt">file =</span> <span class="st">&quot;myFiles/myObject.RData&quot;</span>)</a>
<a class="sourceLine" id="cb983-3" title="3"><span class="co"># Suppression de l&#39;objet dans R</span></a>
<a class="sourceLine" id="cb983-4" title="4"><span class="kw">rm</span>(myObject)</a>
<a class="sourceLine" id="cb983-5" title="5"><span class="co"># Vérification de la suppression</span></a>
<a class="sourceLine" id="cb983-6" title="6"><span class="kw">ls</span>(<span class="dt">pattern =</span> <span class="st">&quot;myObject&quot;</span>)</a></code></pre></div>
<pre><code>## character(0)</code></pre>
<p>Lors de la session suivante de R ou si nous avons à nouveau besoin de l’objet sauvegardé dans le fichier “<code>myObject.RData</code>”, nous pouvons le recharger avec la fonction <code>load()</code>.</p>
<div class="sourceCode" id="cb985"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb985-1" title="1"><span class="kw">ls</span>(<span class="dt">pattern =</span> <span class="st">&quot;myObject&quot;</span>)</a></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb987"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb987-1" title="1"><span class="kw">load</span>(<span class="st">&quot;myFiles/myObject.RData&quot;</span>)</a>
<a class="sourceLine" id="cb987-2" title="2"><span class="kw">ls</span>(<span class="dt">pattern =</span> <span class="st">&quot;myObject&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;myObject&quot;</code></pre>
<div class="sourceCode" id="cb989"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb989-1" title="1"><span class="kw">print</span>(myObject)</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
</div>
<div id="l016write" class="section level2">
<h2><span class="header-section-number">7.3</span> Exporter des données</h2>
<p>Le meilleur moyen de communiquer vos résultats ou vos données est de transmettre vos scripts et vos fichiers de données. Parfois ce n’est pas possible ou pas adapté, et il peut être utile d’exporter ses données dans un fichier texte ou CSV. Pour ce faire il existe la fonction générique <code>write()</code> et la fonction <code>write.table()</code> pour les <code>data.frame</code>.</p>
<p>Par exemple nous allons créer une <code>data.frame</code> avec les numéros de 1 à 26 et les lettres correspondantes, puis les sauver dans un fichier CSV, puis lire les données contenues dans ce fichier.</p>
<div class="sourceCode" id="cb991"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb991-1" title="1"><span class="co"># Création de l&#39;objet dfLetters</span></a>
<a class="sourceLine" id="cb991-2" title="2">dfLetters &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">num =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">26</span>, <span class="dt">letters =</span> letters)</a>
<a class="sourceLine" id="cb991-3" title="3"><span class="co"># Ecriture du contenu dans un fichier CSV</span></a>
<a class="sourceLine" id="cb991-4" title="4"><span class="kw">write.table</span>(dfLetters, <span class="dt">file =</span> <span class="st">&quot;myFiles/dfLetters.csv&quot;</span>, </a>
<a class="sourceLine" id="cb991-5" title="5">  <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">col.names =</span> <span class="ot">TRUE</span>, <span class="dt">row.names =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb991-6" title="6"><span class="co"># Suppression de l&#39;objet dfLetters</span></a>
<a class="sourceLine" id="cb991-7" title="7"><span class="kw">rm</span>(dfLetters)</a>
<a class="sourceLine" id="cb991-8" title="8"><span class="co"># Lecture du fichier CSV</span></a>
<a class="sourceLine" id="cb991-9" title="9"><span class="kw">read.table</span>(</a>
<a class="sourceLine" id="cb991-10" title="10">  <span class="dt">file =</span> <span class="st">&quot;myFiles/dfLetters.csv&quot;</span>, </a>
<a class="sourceLine" id="cb991-11" title="11">  <span class="dt">header =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb991-12" title="12">  <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>)</a></code></pre></div>
<pre><code>##    num letters
## 1    1       a
## 2    2       b
## 3    3       c
## 4    4       d
## 5    5       e
## 6    6       f
## 7    7       g
## 8    8       h
## 9    9       i
## 10  10       j
## 11  11       k
## 12  12       l
## 13  13       m
## 14  14       n
## 15  15       o
## 16  16       p
## 17  17       q
## 18  18       r
## 19  19       s
## 20  20       t
## 21  21       u
## 22  22       v
## 23  23       w
## 24  24       x
## 25  25       y
## 26  26       z</code></pre>
</div>
<div id="conclusion-5" class="section level2">
<h2><span class="header-section-number">7.4</span> Conclusion</h2>
<p>Félicitations ! Nous savons désormais comment lire des données contenues dans un fichier texte ou CSV, sauver et charger des données RData, et écrire dans un fichier. Rappelons que l’erreur la plus commune chez les débutants en R est la lecture des fichiers de données et l’organisation des fichiers. C’est pourquoi ce chapitre est à lire et à relire sans modération.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="fonctions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="algo.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/frareb/myRBook_FR/edit/master/016_importExport.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["myRBook_FR.pdf", "PDF"], ["myRBook_FR.epub", "EPUB"], ["myRBook_FR.docx", "DOCX"]],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
