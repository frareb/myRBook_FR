<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 12 La gestion des couleurs | Se former au logiciel R : initiation et perfectionnement</title>
  <meta name="description" content="Un guide pour acquérir les bases de la programmation avec R et conduire efficacement la gestion et l’analyse de ses données." />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content=" 12 La gestion des couleurs | Se former au logiciel R : initiation et perfectionnement" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="myFigures/cover.png" />
  <meta property="og:description" content="Un guide pour acquérir les bases de la programmation avec R et conduire efficacement la gestion et l’analyse de ses données." />
  <meta name="github-repo" content="frareb/myRBook_FR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 12 La gestion des couleurs | Se former au logiciel R : initiation et perfectionnement" />
  
  <meta name="twitter:description" content="Un guide pour acquérir les bases de la programmation avec R et conduire efficacement la gestion et l’analyse de ses données." />
  <meta name="twitter:image" content="myFigures/cover.png" />

<meta name="author" content="François Rebaudo" />


<meta name="date" content="2019-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="graph1.html"/>
<link rel="next" href="graph3.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.49.4/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.49.4/plotly-latest.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-124666641-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-124666641-2');
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="myStyle.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Se former au logiciel R : initiation et perfectionnement</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Préambule</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#remerciements"><i class="fa fa-check"></i><b>1.1</b> Remerciements</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#licence"><i class="fa fa-check"></i><b>1.2</b> Licence</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#pourquoi-se-former-à-r"><i class="fa fa-check"></i><b>2.1</b> Pourquoi se former à R</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#ce-livre"><i class="fa fa-check"></i><b>2.2</b> Ce livre</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#lectures-complémentaires-en-français"><i class="fa fa-check"></i><b>2.3</b> Lectures complémentaires en français</a></li>
</ul></li>
<li class="part"><span><b>I Concepts de base</b></span></li>
<li class="chapter" data-level="3" data-path="premiersPas.html"><a href="premiersPas.html"><i class="fa fa-check"></i><b>3</b> Premiers pas</a><ul>
<li class="chapter" data-level="3.1" data-path="premiersPas.html"><a href="premiersPas.html#installation-de-r"><i class="fa fa-check"></i><b>3.1</b> Installation de R</a></li>
<li class="chapter" data-level="3.2" data-path="premiersPas.html"><a href="premiersPas.html#r-comme-calculatrice"><i class="fa fa-check"></i><b>3.2</b> R comme calculatrice</a><ul>
<li class="chapter" data-level="3.2.1" data-path="premiersPas.html"><a href="premiersPas.html#l011opari"><i class="fa fa-check"></i><b>3.2.1</b> Les opérateurs arithmétiques</a></li>
<li class="chapter" data-level="3.2.2" data-path="premiersPas.html"><a href="premiersPas.html#l011opcomp"><i class="fa fa-check"></i><b>3.2.2</b> Les opérateurs de comparaison</a></li>
<li class="chapter" data-level="3.2.3" data-path="premiersPas.html"><a href="premiersPas.html#l011oplog"><i class="fa fa-check"></i><b>3.2.3</b> Les opérateurs logiques</a></li>
<li class="chapter" data-level="3.2.4" data-path="premiersPas.html"><a href="premiersPas.html#aide-sur-les-opérateurs"><i class="fa fa-check"></i><b>3.2.4</b> Aide sur les opérateurs</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="premiersPas.html"><a href="premiersPas.html#l011object"><i class="fa fa-check"></i><b>3.3</b> La notion d’objet</a></li>
<li class="chapter" data-level="3.4" data-path="premiersPas.html"><a href="premiersPas.html#les-scripts"><i class="fa fa-check"></i><b>3.4</b> Les scripts</a><ul>
<li class="chapter" data-level="3.4.1" data-path="premiersPas.html"><a href="premiersPas.html#créer-un-script-et-le-documenter"><i class="fa fa-check"></i><b>3.4.1</b> Créer un script et le documenter</a></li>
<li class="chapter" data-level="3.4.2" data-path="premiersPas.html"><a href="premiersPas.html#exécuter-un-script"><i class="fa fa-check"></i><b>3.4.2</b> Exécuter un script</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="premiersPas.html"><a href="premiersPas.html#conclusion"><i class="fa fa-check"></i><b>3.5</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="IDE.html"><a href="IDE.html"><i class="fa fa-check"></i><b>4</b> Choisir un environnement de développement</a><ul>
<li class="chapter" data-level="4.1" data-path="IDE.html"><a href="IDE.html#editeurs-de-texte-et-environnement-de-développement"><i class="fa fa-check"></i><b>4.1</b> Editeurs de texte et environnement de développement</a></li>
<li class="chapter" data-level="4.2" data-path="IDE.html"><a href="IDE.html#rstudio"><i class="fa fa-check"></i><b>4.2</b> RStudio</a><ul>
<li class="chapter" data-level="4.2.1" data-path="IDE.html"><a href="IDE.html#installer-rstudio"><i class="fa fa-check"></i><b>4.2.1</b> Installer RStudio</a></li>
<li class="chapter" data-level="4.2.2" data-path="IDE.html"><a href="IDE.html#un-script-avec-rstudio"><i class="fa fa-check"></i><b>4.2.2</b> Un script avec RStudio</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="IDE.html"><a href="IDE.html#notepad-avec-npp2r"><i class="fa fa-check"></i><b>4.3</b> Notepad++ avec Npp2R</a><ul>
<li class="chapter" data-level="4.3.1" data-path="IDE.html"><a href="IDE.html#installer-notepad-pour-windows-uniquement"><i class="fa fa-check"></i><b>4.3.1</b> Installer Notepad++ (pour Windows uniquement)</a></li>
<li class="chapter" data-level="4.3.2" data-path="IDE.html"><a href="IDE.html#installer-npp2r"><i class="fa fa-check"></i><b>4.3.2</b> Installer Npp2R</a></li>
<li class="chapter" data-level="4.3.3" data-path="IDE.html"><a href="IDE.html#un-script-avec-notepad"><i class="fa fa-check"></i><b>4.3.3</b> Un script avec Notepad++</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="IDE.html"><a href="IDE.html#geany-pour-linux-mac-osx-et-windows"><i class="fa fa-check"></i><b>4.4</b> Geany (pour Linux, Mac OSX et Windows)</a><ul>
<li class="chapter" data-level="4.4.1" data-path="IDE.html"><a href="IDE.html#installer-geany"><i class="fa fa-check"></i><b>4.4.1</b> Installer Geany</a></li>
<li class="chapter" data-level="4.4.2" data-path="IDE.html"><a href="IDE.html#un-script-avec-geany"><i class="fa fa-check"></i><b>4.4.2</b> Un script avec Geany</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="IDE.html"><a href="IDE.html#autres-solutions"><i class="fa fa-check"></i><b>4.5</b> Autres solutions</a></li>
<li class="chapter" data-level="4.6" data-path="IDE.html"><a href="IDE.html#conclusion-1"><i class="fa fa-check"></i><b>4.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dataType1.html"><a href="dataType1.html"><i class="fa fa-check"></i><b>5</b> Les types de données</a><ul>
<li class="chapter" data-level="5.1" data-path="dataType1.html"><a href="dataType1.html#le-type-numeric"><i class="fa fa-check"></i><b>5.1</b> Le type <code>numeric</code></a></li>
<li class="chapter" data-level="5.2" data-path="dataType1.html"><a href="dataType1.html#le-type-character"><i class="fa fa-check"></i><b>5.2</b> Le type <code>character</code></a></li>
<li class="chapter" data-level="5.3" data-path="dataType1.html"><a href="dataType1.html#le-type-factor"><i class="fa fa-check"></i><b>5.3</b> Le type <code>factor</code></a></li>
<li class="chapter" data-level="5.4" data-path="dataType1.html"><a href="dataType1.html#l013logi"><i class="fa fa-check"></i><b>5.4</b> Le type <code>logical</code></a></li>
<li class="chapter" data-level="5.5" data-path="dataType1.html"><a href="dataType1.html#a-propos-de-na"><i class="fa fa-check"></i><b>5.5</b> A propos de <code>NA</code></a></li>
<li class="chapter" data-level="5.6" data-path="dataType1.html"><a href="dataType1.html#conclusion-2"><i class="fa fa-check"></i><b>5.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="dataType2.html"><a href="dataType2.html"><i class="fa fa-check"></i><b>6</b> Les conteneurs de données</a><ul>
<li class="chapter" data-level="6.1" data-path="dataType2.html"><a href="dataType2.html#l014vector"><i class="fa fa-check"></i><b>6.1</b> Le conteneur <code>vector</code></a><ul>
<li class="chapter" data-level="6.1.1" data-path="dataType2.html"><a href="dataType2.html#créer-un-vector"><i class="fa fa-check"></i><b>6.1.1</b> Créer un <code>vector</code></a></li>
<li class="chapter" data-level="6.1.2" data-path="dataType2.html"><a href="dataType2.html#opérations-sur-un-vector"><i class="fa fa-check"></i><b>6.1.2</b> Opérations sur un <code>vector</code></a></li>
<li class="chapter" data-level="6.1.3" data-path="dataType2.html"><a href="dataType2.html#accèder-aux-valeurs-dun-vector"><i class="fa fa-check"></i><b>6.1.3</b> Accèder aux valeurs d’un <code>vector</code></a></li>
<li class="chapter" data-level="6.1.4" data-path="dataType2.html"><a href="dataType2.html#nommer-les-éléments-dun-vector"><i class="fa fa-check"></i><b>6.1.4</b> Nommer les éléments d’un <code>vector</code></a></li>
<li class="chapter" data-level="6.1.5" data-path="dataType2.html"><a href="dataType2.html#modifier-les-éléments-dun-vector"><i class="fa fa-check"></i><b>6.1.5</b> Modifier les éléments d’un <code>vector</code></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="dataType2.html"><a href="dataType2.html#l014list"><i class="fa fa-check"></i><b>6.2</b> Le conteneur <code>list</code></a><ul>
<li class="chapter" data-level="6.2.1" data-path="dataType2.html"><a href="dataType2.html#créer-une-list"><i class="fa fa-check"></i><b>6.2.1</b> Créer une <code>list</code></a></li>
<li class="chapter" data-level="6.2.2" data-path="dataType2.html"><a href="dataType2.html#accéder-aux-valeurs-dune-list"><i class="fa fa-check"></i><b>6.2.2</b> Accéder aux valeurs d’une <code>list</code></a></li>
<li class="chapter" data-level="6.2.3" data-path="dataType2.html"><a href="dataType2.html#modification-dune-list"><i class="fa fa-check"></i><b>6.2.3</b> Modification d’une <code>list</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="dataType2.html"><a href="dataType2.html#l014dataframe"><i class="fa fa-check"></i><b>6.3</b> Le conteneur <code>data.frame</code></a><ul>
<li class="chapter" data-level="6.3.1" data-path="dataType2.html"><a href="dataType2.html#créer-un-data.frame"><i class="fa fa-check"></i><b>6.3.1</b> Créer un <code>data.frame</code></a></li>
<li class="chapter" data-level="6.3.2" data-path="dataType2.html"><a href="dataType2.html#accèder-aux-valeurs-dun-data.frame"><i class="fa fa-check"></i><b>6.3.2</b> Accèder aux valeurs d’un <code>data.frame</code></a></li>
<li class="chapter" data-level="6.3.3" data-path="dataType2.html"><a href="dataType2.html#modifier-un-data.frame"><i class="fa fa-check"></i><b>6.3.3</b> Modifier un <code>data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="dataType2.html"><a href="dataType2.html#l014matrix"><i class="fa fa-check"></i><b>6.4</b> Le conteneur <code>matrix</code></a><ul>
<li class="chapter" data-level="6.4.1" data-path="dataType2.html"><a href="dataType2.html#créer-une-matrix"><i class="fa fa-check"></i><b>6.4.1</b> Créer une <code>matrix</code></a></li>
<li class="chapter" data-level="6.4.2" data-path="dataType2.html"><a href="dataType2.html#manipuler-et-faire-des-opérations-sur-une-matrix"><i class="fa fa-check"></i><b>6.4.2</b> Manipuler et faire des opérations sur une <code>matrix</code></a></li>
<li class="chapter" data-level="6.4.3" data-path="dataType2.html"><a href="dataType2.html#accèder-aux-éléments-dune-matrix"><i class="fa fa-check"></i><b>6.4.3</b> Accèder aux éléments d’une <code>matrix</code></a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="dataType2.html"><a href="dataType2.html#l014array"><i class="fa fa-check"></i><b>6.5</b> Le conteneur <code>array</code></a><ul>
<li class="chapter" data-level="6.5.1" data-path="dataType2.html"><a href="dataType2.html#créer-un-array"><i class="fa fa-check"></i><b>6.5.1</b> Créer un <code>array</code></a></li>
<li class="chapter" data-level="6.5.2" data-path="dataType2.html"><a href="dataType2.html#manipuler-un-array"><i class="fa fa-check"></i><b>6.5.2</b> Manipuler un <code>array</code></a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="dataType2.html"><a href="dataType2.html#conclusion-3"><i class="fa fa-check"></i><b>6.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="fonctions.html"><a href="fonctions.html"><i class="fa fa-check"></i><b>7</b> Les fonctions</a><ul>
<li class="chapter" data-level="7.1" data-path="fonctions.html"><a href="fonctions.html#quest-ce-quune-fonction"><i class="fa fa-check"></i><b>7.1</b> Qu’est-ce qu’une fonction</a></li>
<li class="chapter" data-level="7.2" data-path="fonctions.html"><a href="fonctions.html#l015mainfun"><i class="fa fa-check"></i><b>7.2</b> Les fonctions les plus courantes</a><ul>
<li class="chapter" data-level="7.2.1" data-path="fonctions.html"><a href="fonctions.html#laccès-à-la-documentation"><i class="fa fa-check"></i><b>7.2.1</b> L’accès à la documentation</a></li>
<li class="chapter" data-level="7.2.2" data-path="fonctions.html"><a href="fonctions.html#visualiser-les-données"><i class="fa fa-check"></i><b>7.2.2</b> Visualiser les données</a></li>
<li class="chapter" data-level="7.2.3" data-path="fonctions.html"><a href="fonctions.html#manipuler-les-données"><i class="fa fa-check"></i><b>7.2.3</b> Manipuler les données</a></li>
<li class="chapter" data-level="7.2.4" data-path="fonctions.html"><a href="fonctions.html#fonctions-mathématiques"><i class="fa fa-check"></i><b>7.2.4</b> Fonctions mathématiques</a></li>
<li class="chapter" data-level="7.2.5" data-path="fonctions.html"><a href="fonctions.html#statistiques-descriptives"><i class="fa fa-check"></i><b>7.2.5</b> Statistiques descriptives</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="fonctions.html"><a href="fonctions.html#autres-fonctions-utiles"><i class="fa fa-check"></i><b>7.3</b> Autres fonctions utiles</a><ul>
<li class="chapter" data-level="7.3.1" data-path="fonctions.html"><a href="fonctions.html#l015seqalong"><i class="fa fa-check"></i><b>7.3.1</b> <code>seq_along()</code></a></li>
<li class="chapter" data-level="7.3.2" data-path="fonctions.html"><a href="fonctions.html#l0152points"><i class="fa fa-check"></i><b>7.3.2</b> <code>:</code></a></li>
<li class="chapter" data-level="7.3.3" data-path="fonctions.html"><a href="fonctions.html#l015rep"><i class="fa fa-check"></i><b>7.3.3</b> <code>rep()</code></a></li>
<li class="chapter" data-level="7.3.4" data-path="fonctions.html"><a href="fonctions.html#l015seq"><i class="fa fa-check"></i><b>7.3.4</b> <code>seq()</code></a></li>
<li class="chapter" data-level="7.3.5" data-path="fonctions.html"><a href="fonctions.html#l015getwd"><i class="fa fa-check"></i><b>7.3.5</b> <code>getwd()</code></a></li>
<li class="chapter" data-level="7.3.6" data-path="fonctions.html"><a href="fonctions.html#l015setwd"><i class="fa fa-check"></i><b>7.3.6</b> <code>setwd()</code></a></li>
<li class="chapter" data-level="7.3.7" data-path="fonctions.html"><a href="fonctions.html#l015listfiles"><i class="fa fa-check"></i><b>7.3.7</b> <code>list.files()</code></a></li>
<li class="chapter" data-level="7.3.8" data-path="fonctions.html"><a href="fonctions.html#l015ls"><i class="fa fa-check"></i><b>7.3.8</b> <code>ls()</code></a></li>
<li class="chapter" data-level="7.3.9" data-path="fonctions.html"><a href="fonctions.html#l015rm"><i class="fa fa-check"></i><b>7.3.9</b> <code>rm()</code></a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="fonctions.html"><a href="fonctions.html#quelques-exercices"><i class="fa fa-check"></i><b>7.4</b> Quelques exercices</a><ul>
<li class="chapter" data-level="7.4.1" data-path="fonctions.html"><a href="fonctions.html#séquences"><i class="fa fa-check"></i><b>7.4.1</b> Séquences</a></li>
<li class="chapter" data-level="7.4.2" data-path="fonctions.html"><a href="fonctions.html#statistiques-descriptives-1"><i class="fa fa-check"></i><b>7.4.2</b> Statistiques descriptives</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="fonctions.html"><a href="fonctions.html#l015function"><i class="fa fa-check"></i><b>7.5</b> Ecrire une fonction</a></li>
<li class="chapter" data-level="7.6" data-path="fonctions.html"><a href="fonctions.html#autres-fonctions-développées-par-la-communauté-des-utilisateurs-les-packages"><i class="fa fa-check"></i><b>7.6</b> Autres fonctions développées par la communauté des utilisateurs : les packages</a><ul>
<li class="chapter" data-level="7.6.1" data-path="fonctions.html"><a href="fonctions.html#installer-un-package"><i class="fa fa-check"></i><b>7.6.1</b> Installer un package</a></li>
<li class="chapter" data-level="7.6.2" data-path="fonctions.html"><a href="fonctions.html#charger-un-package"><i class="fa fa-check"></i><b>7.6.2</b> Charger un package</a></li>
<li class="chapter" data-level="7.6.3" data-path="fonctions.html"><a href="fonctions.html#portabilité-du-code"><i class="fa fa-check"></i><b>7.6.3</b> Portabilité du code</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="fonctions.html"><a href="fonctions.html#conclusion-4"><i class="fa fa-check"></i><b>7.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="import.html"><a href="import.html"><i class="fa fa-check"></i><b>8</b> Importer et exporter des données</a><ul>
<li class="chapter" data-level="8.1" data-path="import.html"><a href="import.html#l016read"><i class="fa fa-check"></i><b>8.1</b> Lire des données depuis un fichier</a><ul>
<li class="chapter" data-level="8.1.1" data-path="import.html"><a href="import.html#l016transfo"><i class="fa fa-check"></i><b>8.1.1</b> Transformer ses données au format TXT ou CSV</a></li>
<li class="chapter" data-level="8.1.2" data-path="import.html"><a href="import.html#l016readCSV"><i class="fa fa-check"></i><b>8.1.2</b> Lire un fichier CSV</a></li>
<li class="chapter" data-level="8.1.3" data-path="import.html"><a href="import.html#l016readTXT"><i class="fa fa-check"></i><b>8.1.3</b> Lire un fichier texte</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="import.html"><a href="import.html#l016save"><i class="fa fa-check"></i><b>8.2</b> Exporter ou charger des données pour R</a></li>
<li class="chapter" data-level="8.3" data-path="import.html"><a href="import.html#l016write"><i class="fa fa-check"></i><b>8.3</b> Exporter des données</a></li>
<li class="chapter" data-level="8.4" data-path="import.html"><a href="import.html#conclusion-5"><i class="fa fa-check"></i><b>8.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="algo.html"><a href="algo.html"><i class="fa fa-check"></i><b>9</b> Algorithmique</a><ul>
<li class="chapter" data-level="9.1" data-path="algo.html"><a href="algo.html#l17if"><i class="fa fa-check"></i><b>9.1</b> Tests logiques avec <code>if</code></a></li>
<li class="chapter" data-level="9.2" data-path="algo.html"><a href="algo.html#l17switch"><i class="fa fa-check"></i><b>9.2</b> Tests logiques avec <code>switch</code></a></li>
<li class="chapter" data-level="9.3" data-path="algo.html"><a href="algo.html#l17for"><i class="fa fa-check"></i><b>9.3</b> La boucle <code>for</code></a></li>
<li class="chapter" data-level="9.4" data-path="algo.html"><a href="algo.html#l17while"><i class="fa fa-check"></i><b>9.4</b> La boucle <code>while</code></a></li>
<li class="chapter" data-level="9.5" data-path="algo.html"><a href="algo.html#l17repeat"><i class="fa fa-check"></i><b>9.5</b> La boucle <code>repeat</code></a></li>
<li class="chapter" data-level="9.6" data-path="algo.html"><a href="algo.html#l17spe"><i class="fa fa-check"></i><b>9.6</b> <code>next</code> et <code>break</code></a></li>
<li class="chapter" data-level="9.7" data-path="algo.html"><a href="algo.html#l17applyfamily"><i class="fa fa-check"></i><b>9.7</b> Les boucles de la famille <code>apply</code></a><ul>
<li class="chapter" data-level="9.7.1" data-path="algo.html"><a href="algo.html#l17apply"><i class="fa fa-check"></i><b>9.7.1</b> <code>apply</code></a></li>
<li class="chapter" data-level="9.7.2" data-path="algo.html"><a href="algo.html#l17sapply"><i class="fa fa-check"></i><b>9.7.2</b> <code>lapply</code></a></li>
<li class="chapter" data-level="9.7.3" data-path="algo.html"><a href="algo.html#l17lapply"><i class="fa fa-check"></i><b>9.7.3</b> <code>sapply</code></a></li>
<li class="chapter" data-level="9.7.4" data-path="algo.html"><a href="algo.html#l17tapply"><i class="fa fa-check"></i><b>9.7.4</b> <code>tapply</code></a></li>
<li class="chapter" data-level="9.7.5" data-path="algo.html"><a href="algo.html#l17mapply"><i class="fa fa-check"></i><b>9.7.5</b> <code>mapply</code></a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="algo.html"><a href="algo.html#conclusion-6"><i class="fa fa-check"></i><b>9.8</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="project.html"><a href="project.html"><i class="fa fa-check"></i><b>10</b> Gestion d’un projet avec R</a><ul>
<li class="chapter" data-level="10.1" data-path="project.html"><a href="project.html#gestion-des-fichiers-et-des-répertoires-de-travail"><i class="fa fa-check"></i><b>10.1</b> Gestion des fichiers et des répertoires de travail</a></li>
<li class="chapter" data-level="10.2" data-path="project.html"><a href="project.html#gestion-des-versions-de-script"><i class="fa fa-check"></i><b>10.2</b> Gestion des versions de script</a></li>
<li class="chapter" data-level="10.3" data-path="project.html"><a href="project.html#gestion-de-la-documentation"><i class="fa fa-check"></i><b>10.3</b> Gestion de la documentation</a></li>
<li class="chapter" data-level="10.4" data-path="project.html"><a href="project.html#conclusion-7"><i class="fa fa-check"></i><b>10.4</b> Conclusion</a></li>
</ul></li>
<li class="part"><span><b>II Les graphiques</b></span></li>
<li class="chapter" data-level="11" data-path="graph1.html"><a href="graph1.html"><i class="fa fa-check"></i><b>11</b> Graphiques simples</a><ul>
<li class="chapter" data-level="11.1" data-path="graph1.html"><a href="graph1.html#graph1plot"><i class="fa fa-check"></i><b>11.1</b> <code>plot</code></a></li>
<li class="chapter" data-level="11.2" data-path="graph1.html"><a href="graph1.html#graph1hist"><i class="fa fa-check"></i><b>11.2</b> <code>hist</code></a></li>
<li class="chapter" data-level="11.3" data-path="graph1.html"><a href="graph1.html#graph1barplot"><i class="fa fa-check"></i><b>11.3</b> <code>barplot</code></a></li>
<li class="chapter" data-level="11.4" data-path="graph1.html"><a href="graph1.html#graph1boxplot"><i class="fa fa-check"></i><b>11.4</b> <code>boxplot</code></a></li>
<li class="chapter" data-level="11.5" data-path="graph1.html"><a href="graph1.html#autres-graphiques"><i class="fa fa-check"></i><b>11.5</b> Autres graphiques</a></li>
<li class="chapter" data-level="11.6" data-path="graph1.html"><a href="graph1.html#conclusion-8"><i class="fa fa-check"></i><b>11.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="graph2.html"><a href="graph2.html"><i class="fa fa-check"></i><b>12</b> La gestion des couleurs</a><ul>
<li class="chapter" data-level="12.1" data-path="graph2.html"><a href="graph2.html#colors"><i class="fa fa-check"></i><b>12.1</b> <code>colors()</code></a></li>
<li class="chapter" data-level="12.2" data-path="graph2.html"><a href="graph2.html#rgb"><i class="fa fa-check"></i><b>12.2</b> <code>rgb()</code></a></li>
<li class="chapter" data-level="12.3" data-path="graph2.html"><a href="graph2.html#palettes"><i class="fa fa-check"></i><b>12.3</b> Palettes</a></li>
<li class="chapter" data-level="12.4" data-path="graph2.html"><a href="graph2.html#conclusion-9"><i class="fa fa-check"></i><b>12.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="graph3.html"><a href="graph3.html"><i class="fa fa-check"></i><b>13</b> Les packages graphiques</a><ul>
<li class="chapter" data-level="13.1" data-path="graph3.html"><a href="graph3.html#les-packages-de-palettes"><i class="fa fa-check"></i><b>13.1</b> les packages de palettes</a><ul>
<li class="chapter" data-level="13.1.1" data-path="graph3.html"><a href="graph3.html#rcolorbrewer"><i class="fa fa-check"></i><b>13.1.1</b> <code>RColorBrewer</code></a></li>
<li class="chapter" data-level="13.1.2" data-path="graph3.html"><a href="graph3.html#palettesforr"><i class="fa fa-check"></i><b>13.1.2</b> <code>palettesForR</code></a></li>
<li class="chapter" data-level="13.1.3" data-path="graph3.html"><a href="graph3.html#les-autres-packages"><i class="fa fa-check"></i><b>13.1.3</b> Les autres packages</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="graph3.html"><a href="graph3.html#ggplot2-package"><i class="fa fa-check"></i><b>13.2</b> ggplot2 package</a></li>
<li class="chapter" data-level="13.3" data-path="graph3.html"><a href="graph3.html#les-graphiques-interactifs-et-dynamiques-avec-plotly"><i class="fa fa-check"></i><b>13.3</b> Les graphiques interactifs et dynamiques avec <code>Plotly</code></a></li>
<li class="chapter" data-level="13.4" data-path="graph3.html"><a href="graph3.html#conclusion-10"><i class="fa fa-check"></i><b>13.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="graph4.html"><a href="graph4.html"><i class="fa fa-check"></i><b>14</b> Du graphique à la figure dans un article scientifique</a><ul>
<li class="chapter" data-level="14.1" data-path="graph4.html"><a href="graph4.html#inkscape"><i class="fa fa-check"></i><b>14.1</b> Inkscape</a></li>
<li class="chapter" data-level="14.2" data-path="graph4.html"><a href="graph4.html#the-gimp"><i class="fa fa-check"></i><b>14.2</b> The Gimp</a></li>
<li class="chapter" data-level="14.3" data-path="graph4.html"><a href="graph4.html#table-de-référence"><i class="fa fa-check"></i><b>14.3</b> Table de référence</a></li>
</ul></li>
<li class="part"><span><b>III Etude de cas</b></span></li>
<li class="chapter" data-level="15" data-path="studyCase001.html"><a href="studyCase001.html"><i class="fa fa-check"></i><b>15</b> Analyser des données de datalogger de température</a></li>
<li class="chapter" data-level="16" data-path="studyCase002.html"><a href="studyCase002.html"><i class="fa fa-check"></i><b>16</b> Obtenir le numéro WOS d’un article scientifique à partir de son numéro DOI</a></li>
<li class="divider"></li>
<li><a href="http://ird.fr/" target="blank"><img src="myLogos/logo_IRD_2016_LONGUEUR_SP_COUL.png" alt="IRD" width="100"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Se former au logiciel R : initiation et perfectionnement</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="graph2" class="section level1">
<h1><span class="header-section-number"> 12</span> La gestion des couleurs</h1>
<p>Nous avons vu différentes manières d’utiliser les couleurs : avec leur nom (e.g., <code>"salmon"</code>), avec un numéro de 1 à 8, avec la fonction <code>rgb()</code> (pour “red”, “green”, “blue”), et avec la fonction <code>colors()</code>. Il en existe d’autres mais celles-ci sont les principales.</p>
<p>L’utilisation des numéros de 1 à 8 correspond au noir, rouge, vert, bleu, cyan, magenta, jaune et gris. Cette utilisation est pratique pour visualiser rapidement nos résultats mais donne globalement des graphiques visuellement moyens. Ces couleurs sont plutôt à éviter pour communiquer nos graphiques.</p>
<div class="sourceCode" id="cb1133"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1133-1" title="1"><span class="kw">barplot</span>(<span class="kw">sample</span>(<span class="dv">10</span><span class="op">:</span><span class="dv">15</span>, <span class="dv">8</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>), <span class="dt">col =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">8</span>, <span class="dt">names.arg =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">8</span>)</a></code></pre></div>
<p><img src="myRBook_FR_files/figure-html/021-02-graphiques-1-1.png" width="672" /></p>
<div id="colors" class="section level2">
<h2><span class="header-section-number">12.1</span> <code>colors()</code></h2>
<p>Pour choisir des couleurs plus agréables et mettant plus en avant nos résultats, une option consiste à les choisir dans la liste des couleurs pré-enregistrées dans R. Nous pouvons accéder à la liste des couleurs avec la fonction <code>colors()</code></p>
<div class="sourceCode" id="cb1134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1134-1" title="1"><span class="kw">head</span>(<span class="kw">colors</span>(), <span class="dt">n =</span> <span class="dv">20</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;white&quot;         &quot;aliceblue&quot;     &quot;antiquewhite&quot;  &quot;antiquewhite1&quot;
##  [5] &quot;antiquewhite2&quot; &quot;antiquewhite3&quot; &quot;antiquewhite4&quot; &quot;aquamarine&quot;   
##  [9] &quot;aquamarine1&quot;   &quot;aquamarine2&quot;   &quot;aquamarine3&quot;   &quot;aquamarine4&quot;  
## [13] &quot;azure&quot;         &quot;azure1&quot;        &quot;azure2&quot;        &quot;azure3&quot;       
## [17] &quot;azure4&quot;        &quot;beige&quot;         &quot;bisque&quot;        &quot;bisque1&quot;</code></pre>
<p>Nous pouvons utiliser ces couleurs avec leur nom (e.g., “white”, “azure3”), ou alors avec leur numéro (e.g., “white” = <code>colors()[1]</code>, “azure3” = <code>colors()[16]</code>).</p>
<div class="sourceCode" id="cb1136"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1136-1" title="1"><span class="co"># adapted from http://www.r-graph-gallery.com/42-colors-names/</span></a>
<a class="sourceLine" id="cb1136-2" title="2">op &lt;-<span class="st"> </span><span class="kw">par</span>(<span class="dt">no.readonly =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1136-3" title="3"><span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>))</a>
<a class="sourceLine" id="cb1136-4" title="4"><span class="kw">plot</span>(<span class="dv">0</span>, <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), </a>
<a class="sourceLine" id="cb1136-5" title="5">  <span class="dt">axes =</span> <span class="ot">FALSE</span>, <span class="dt">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb1136-6" title="6">numRow &lt;-<span class="st"> </span><span class="dv">26</span></a>
<a class="sourceLine" id="cb1136-7" title="7">numCol &lt;-<span class="st"> </span><span class="dv">26</span></a>
<a class="sourceLine" id="cb1136-8" title="8"><span class="kw">rect</span>(</a>
<a class="sourceLine" id="cb1136-9" title="9">  <span class="dt">xleft =</span> <span class="kw">rep</span>((<span class="dv">0</span><span class="op">:</span>(numCol <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)<span class="op">/</span>numCol), numRow),  </a>
<a class="sourceLine" id="cb1136-10" title="10">  <span class="dt">ybottom =</span> <span class="kw">sort</span>(<span class="kw">rep</span>((<span class="dv">0</span><span class="op">:</span>(numRow <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)<span class="op">/</span>numRow),numCol), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb1136-11" title="11">  <span class="dt">xright =</span> <span class="kw">rep</span>((<span class="dv">1</span><span class="op">:</span>numCol<span class="op">/</span>numCol), numRow),</a>
<a class="sourceLine" id="cb1136-12" title="12">  <span class="dt">ytop =</span> <span class="kw">sort</span>(<span class="kw">rep</span>((<span class="dv">1</span><span class="op">:</span>numRow<span class="op">/</span>numRow), numCol), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb1136-13" title="13">  <span class="dt">border =</span> <span class="kw">grey</span>(<span class="fl">0.5</span>), </a>
<a class="sourceLine" id="cb1136-14" title="14">  <span class="dt">col =</span> <span class="kw">colors</span>()[<span class="kw">seq</span>(<span class="dv">1</span>, numRow<span class="op">*</span>numCol)])</a>
<a class="sourceLine" id="cb1136-15" title="15">myLabels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">as.character</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">657</span>), <span class="kw">rep</span>(<span class="st">&quot;&quot;</span>, numRow<span class="op">*</span>numCol <span class="op">-</span><span class="st"> </span><span class="dv">657</span>))</a>
<a class="sourceLine" id="cb1136-16" title="16"><span class="kw">text</span>(</a>
<a class="sourceLine" id="cb1136-17" title="17">  <span class="dt">x =</span> <span class="kw">rep</span>((<span class="dv">0</span><span class="op">:</span>(numCol <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)<span class="op">/</span>numCol), numRow) <span class="op">+</span><span class="st"> </span><span class="fl">0.02</span>,</a>
<a class="sourceLine" id="cb1136-18" title="18">  <span class="dt">y =</span> <span class="kw">sort</span>(<span class="kw">rep</span>((<span class="dv">0</span><span class="op">:</span>(numRow <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)<span class="op">/</span>numRow), numCol), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>) <span class="op">+</span><span class="st"> </span><span class="fl">0.02</span>,</a>
<a class="sourceLine" id="cb1136-19" title="19">  <span class="dt">labels =</span> myLabels, </a>
<a class="sourceLine" id="cb1136-20" title="20">  <span class="dt">cex =</span> <span class="fl">0.6</span>)</a></code></pre></div>
<p><img src="myRBook_FR_files/figure-html/021-02-graphiques-3-1.png" width="672" /></p>
<div class="sourceCode" id="cb1137"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1137-1" title="1"><span class="kw">par</span>(op)</a></code></pre></div>
</div>
<div id="rgb" class="section level2">
<h2><span class="header-section-number">12.2</span> <code>rgb()</code></h2>
<p>Une autre option consiste à construire ses propres couleurs ave la fonction <code>rgb()</code> qui prend comme argument la quantité de rouge, de de vert, et de bleu. Par défaut ces valeurs sont comprises entre 0 et 1. Ce réglage par défaut peut être modifié avec l’arguement <code>maxColorValue</code> pour par exemple avoir des valeurs entre 0 et 255 (<code>maxColorValue = 255</code> ; norme pour la représentation des couleurs RGB).</p>
<p>Nous allons reprendre notre fonction permettant de représenter la distribution de points dans un nuage de points au moyen de <code>barplot</code> avec cette fois trois couleurs de points (rouge, vert, bleu), et des <code>barplot</code> dont la couleur correspondra à la quantité de chaque couleur avec la fonction <code>rgb()</code>.</p>
<div class="sourceCode" id="cb1138"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1138-1" title="1">graphBarplotCol &lt;-<span class="st"> </span><span class="cf">function</span>(n){</a>
<a class="sourceLine" id="cb1138-2" title="2">  myX &lt;-<span class="st"> </span><span class="kw">rnorm</span>(n)</a>
<a class="sourceLine" id="cb1138-3" title="3">  myY &lt;-<span class="st"> </span><span class="kw">rnorm</span>(n)</a>
<a class="sourceLine" id="cb1138-4" title="4">  myCol &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="kw">sample</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">4</span>, <span class="dt">size =</span> (n <span class="op">-</span><span class="st"> </span><span class="dv">3</span>), <span class="dt">replace =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb1138-5" title="5">  myYCut &lt;-<span class="st"> </span><span class="kw">cut</span>(myY, <span class="dt">breaks =</span> <span class="dv">-4</span><span class="op">:</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb1138-6" title="6">  myXCut &lt;-<span class="st"> </span><span class="kw">cut</span>(myX, <span class="dt">breaks =</span> <span class="dv">-4</span><span class="op">:</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb1138-7" title="7">  myYCutCol &lt;-<span class="st"> </span><span class="kw">table</span>(myCol, myYCut)</a>
<a class="sourceLine" id="cb1138-8" title="8">  myXCutCol &lt;-<span class="st"> </span><span class="kw">table</span>(myCol, myXCut)</a>
<a class="sourceLine" id="cb1138-9" title="9">  rColX &lt;-<span class="st"> </span>myXCutCol[<span class="dv">1</span>,] <span class="op">/</span><span class="st"> </span>(myXCutCol[<span class="dv">1</span>,] <span class="op">+</span><span class="st"> </span>myXCutCol[<span class="dv">2</span>,] <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1138-10" title="10"><span class="st">    </span>myXCutCol[<span class="dv">3</span>,])</a>
<a class="sourceLine" id="cb1138-11" title="11">  gColX &lt;-<span class="st"> </span>myXCutCol[<span class="dv">2</span>,] <span class="op">/</span><span class="st"> </span>(myXCutCol[<span class="dv">1</span>,] <span class="op">+</span><span class="st"> </span>myXCutCol[<span class="dv">2</span>,] <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1138-12" title="12"><span class="st">    </span>myXCutCol[<span class="dv">3</span>,])</a>
<a class="sourceLine" id="cb1138-13" title="13">  bColX &lt;-<span class="st"> </span>myXCutCol[<span class="dv">3</span>,] <span class="op">/</span><span class="st"> </span>(myXCutCol[<span class="dv">1</span>,] <span class="op">+</span><span class="st"> </span>myXCutCol[<span class="dv">2</span>,] <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1138-14" title="14"><span class="st">    </span>myXCutCol[<span class="dv">3</span>,])</a>
<a class="sourceLine" id="cb1138-15" title="15">  rColX[<span class="kw">is.na</span>(rColX)] &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb1138-16" title="16">  gColX[<span class="kw">is.na</span>(gColX)] &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb1138-17" title="17">  bColX[<span class="kw">is.na</span>(bColX)] &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb1138-18" title="18">  rColY &lt;-<span class="st"> </span>myYCutCol[<span class="dv">1</span>,] <span class="op">/</span><span class="st"> </span>(myYCutCol[<span class="dv">1</span>,] <span class="op">+</span><span class="st"> </span>myYCutCol[<span class="dv">2</span>,] <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1138-19" title="19"><span class="st">    </span>myYCutCol[<span class="dv">3</span>,])</a>
<a class="sourceLine" id="cb1138-20" title="20">  gColY &lt;-<span class="st"> </span>myYCutCol[<span class="dv">2</span>,] <span class="op">/</span><span class="st"> </span>(myYCutCol[<span class="dv">1</span>,] <span class="op">+</span><span class="st"> </span>myYCutCol[<span class="dv">2</span>,] <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1138-21" title="21"><span class="st">    </span>myYCutCol[<span class="dv">3</span>,])</a>
<a class="sourceLine" id="cb1138-22" title="22">  bColY &lt;-<span class="st"> </span>myYCutCol[<span class="dv">3</span>,] <span class="op">/</span><span class="st"> </span>(myYCutCol[<span class="dv">1</span>,] <span class="op">+</span><span class="st"> </span>myYCutCol[<span class="dv">2</span>,] <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1138-23" title="23"><span class="st">    </span>myYCutCol[<span class="dv">3</span>,])</a>
<a class="sourceLine" id="cb1138-24" title="24">  rColY[<span class="kw">is.na</span>(rColY)] &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb1138-25" title="25">  gColY[<span class="kw">is.na</span>(gColY)] &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb1138-26" title="26">  bColY[<span class="kw">is.na</span>(bColY)] &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb1138-27" title="27">  op &lt;-<span class="st"> </span><span class="kw">par</span>(<span class="dt">no.readonly =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1138-28" title="28">  <span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb1138-29" title="29">  <span class="kw">layout</span>(<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, </a>
<a class="sourceLine" id="cb1138-30" title="30">                  <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, </a>
<a class="sourceLine" id="cb1138-31" title="31">                  <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb1138-32" title="32">  <span class="kw">barplot</span>(<span class="kw">table</span>(myXCut), <span class="dt">las =</span> <span class="dv">1</span>, <span class="dt">col =</span> <span class="kw">rgb</span>(rColX, gColX, bColX))</a>
<a class="sourceLine" id="cb1138-33" title="33">  <span class="kw">plot</span>(<span class="dt">x =</span> myX, <span class="dt">y =</span> myY, <span class="dt">col =</span> myCol, <span class="dt">pch =</span> <span class="dv">16</span>, </a>
<a class="sourceLine" id="cb1138-34" title="34">    <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">4</span>, <span class="dv">4</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">4</span>, <span class="dv">4</span>), <span class="dt">cex =</span> <span class="fl">1.5</span>, </a>
<a class="sourceLine" id="cb1138-35" title="35">    <span class="dt">panel.first =</span> <span class="kw">grid</span>())</a>
<a class="sourceLine" id="cb1138-36" title="36">  <span class="kw">barplot</span>(<span class="kw">table</span>(myYCut), <span class="dt">las =</span> <span class="dv">1</span>, <span class="dt">horiz =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb1138-37" title="37">    <span class="dt">col =</span> <span class="kw">rgb</span>(rColY, gColY, bColY))</a>
<a class="sourceLine" id="cb1138-38" title="38">  <span class="kw">par</span>(op)</a>
<a class="sourceLine" id="cb1138-39" title="39">}</a>
<a class="sourceLine" id="cb1138-40" title="40"><span class="kw">graphBarplotCol</span>(<span class="dt">n =</span> <span class="dv">50</span>)</a></code></pre></div>
<p><img src="myRBook_FR_files/figure-html/021-02-graphiques-4-1.png" width="672" /></p>
<p>Avec la fonction <code>rgb()</code> nous pouvons donc représenter <code>256^3</code> couleurs, soit 167 777 216 couleurs différentes. Notre objectif reste cependant de faire des graphiques agréables à lire et qui mettent bien en valeurs nos résultats scientifiques. Il faut donc choisir les couleurs adéquates au regard de notre objectif. C’est pour cela que nous allons utiliser des palettes.</p>
</div>
<div id="palettes" class="section level2">
<h2><span class="header-section-number">12.3</span> Palettes</h2>
<p>Les palettes sont des jeux de couleurs représentées sous forme d’un <code>vector</code> avec les couleurs au format hexadécimal (valeur renvoyée par la fonction <code>rgb()</code> par exemple).</p>
<div class="sourceCode" id="cb1139"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1139-1" title="1">myPal &lt;-<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb1139-2" title="2">  <span class="kw">rgb</span>(<span class="dv">0</span>, <span class="dv">94</span>, <span class="dv">255</span>, <span class="dt">maxColorValue =</span> <span class="dv">255</span>),  </a>
<a class="sourceLine" id="cb1139-3" title="3">  <span class="kw">rgb</span>(<span class="dv">255</span>, <span class="dv">0</span>, <span class="dv">174</span>, <span class="dt">maxColorValue =</span> <span class="dv">255</span>),  </a>
<a class="sourceLine" id="cb1139-4" title="4">  <span class="kw">rgb</span>(<span class="dv">255</span>, <span class="dv">136</span>, <span class="dv">0</span>, <span class="dt">maxColorValue =</span> <span class="dv">255</span>),  </a>
<a class="sourceLine" id="cb1139-5" title="5">  <span class="kw">rgb</span>(<span class="dv">119</span>, <span class="dv">255</span>, <span class="dv">0</span>, <span class="dt">maxColorValue =</span> <span class="dv">255</span>))</a>
<a class="sourceLine" id="cb1139-6" title="6"><span class="kw">print</span>(myPal)</a></code></pre></div>
<pre><code>## [1] &quot;#005EFF&quot; &quot;#FF00AE&quot; &quot;#FF8800&quot; &quot;#77FF00&quot;</code></pre>
<div class="sourceCode" id="cb1141"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1141-1" title="1"><span class="kw">boxplot</span>(<span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">100</span>), <span class="dt">ncol =</span> <span class="dv">5</span>), <span class="dt">col =</span> myPal, <span class="dt">axes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb1141-2" title="2"><span class="kw">axis</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1141-3" title="3"><span class="kw">axis</span>(<span class="dv">2</span>)</a></code></pre></div>
<p><img src="myRBook_FR_files/figure-html/021-02-graphiques-5-1.png" width="672" /></p>
<p>Il existe des palettes inclues dans R : <code>terrain.colors()</code>, <code>heat.colors()</code>, <code>topo.colors()</code>,
<code>cm.colors()</code>, <code>rainbow()</code>.</p>
<div class="sourceCode" id="cb1142"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1142-1" title="1">op &lt;-<span class="st"> </span><span class="kw">par</span>(<span class="dt">no.readonly =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1142-2" title="2"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">0</span>))</a>
<a class="sourceLine" id="cb1142-3" title="3"><span class="kw">boxplot</span>(<span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">1000</span>), <span class="dt">ncol =</span> <span class="dv">10</span>), <span class="dt">main =</span> <span class="st">&quot;terrain.colors()&quot;</span>, </a>
<a class="sourceLine" id="cb1142-4" title="4">  <span class="dt">col =</span> <span class="kw">terrain.colors</span>(<span class="dv">10</span>), <span class="dt">axes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb1142-5" title="5"><span class="kw">boxplot</span>(<span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">1000</span>), <span class="dt">ncol =</span> <span class="dv">10</span>), <span class="dt">main =</span> <span class="st">&quot;heat.colors()&quot;</span>, </a>
<a class="sourceLine" id="cb1142-6" title="6">  <span class="dt">col =</span> <span class="kw">heat.colors</span>(<span class="dv">10</span>), <span class="dt">axes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb1142-7" title="7"><span class="kw">boxplot</span>(<span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">1000</span>), <span class="dt">ncol =</span> <span class="dv">10</span>), <span class="dt">main =</span> <span class="st">&quot;topo.colors()&quot;</span>, </a>
<a class="sourceLine" id="cb1142-8" title="8">  <span class="dt">col =</span> <span class="kw">topo.colors</span>(<span class="dv">10</span>), <span class="dt">axes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb1142-9" title="9"><span class="kw">boxplot</span>(<span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">1000</span>), <span class="dt">ncol =</span> <span class="dv">10</span>), <span class="dt">main =</span> <span class="st">&quot;cm.colors()&quot;</span>, </a>
<a class="sourceLine" id="cb1142-10" title="10">  <span class="dt">col =</span> <span class="kw">cm.colors</span>(<span class="dv">10</span>), <span class="dt">axes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb1142-11" title="11"><span class="kw">boxplot</span>(<span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">1000</span>), <span class="dt">ncol =</span> <span class="dv">10</span>), <span class="dt">main =</span> <span class="st">&quot;rainbow()&quot;</span>, </a>
<a class="sourceLine" id="cb1142-12" title="12">  <span class="dt">col =</span> <span class="kw">rainbow</span>(<span class="dv">10</span>), <span class="dt">axes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb1142-13" title="13"><span class="kw">par</span>(op)</a></code></pre></div>
<p><img src="myRBook_FR_files/figure-html/021-02-graphiques-6-1.png" width="672" /></p>
<p>Il existe aussi une fonction <code>colorRampPalette()</code> qui permet de créer un dégradé de couleur.</p>
<div class="sourceCode" id="cb1143"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1143-1" title="1">op &lt;-<span class="st"> </span><span class="kw">par</span>(<span class="dt">no.readonly =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1143-2" title="2"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">1</span>), <span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>))</a>
<a class="sourceLine" id="cb1143-3" title="3"><span class="kw">boxplot</span>(<span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">2500</span>), <span class="dt">ncol =</span> <span class="dv">25</span>), </a>
<a class="sourceLine" id="cb1143-4" title="4">  <span class="dt">col =</span> <span class="kw">colorRampPalette</span>(<span class="kw">c</span>(<span class="st">&#39;blue&#39;</span>, <span class="st">&#39;red&#39;</span>))(<span class="dv">25</span>), <span class="dt">axes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb1143-5" title="5"><span class="kw">boxplot</span>(<span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">2500</span>), <span class="dt">ncol =</span> <span class="dv">25</span>), </a>
<a class="sourceLine" id="cb1143-6" title="6">  <span class="dt">col =</span> <span class="kw">colorRampPalette</span>(<span class="kw">c</span>(<span class="st">&#39;blue&#39;</span>, <span class="st">&#39;white&#39;</span>, <span class="st">&#39;red&#39;</span>))(<span class="dv">25</span>), <span class="dt">axes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb1143-7" title="7"><span class="kw">boxplot</span>(<span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">2500</span>), <span class="dt">ncol =</span> <span class="dv">25</span>), </a>
<a class="sourceLine" id="cb1143-8" title="8">  <span class="dt">col =</span>  <span class="kw">colorRampPalette</span>(<span class="kw">c</span>(<span class="kw">rgb</span>(<span class="dv">255</span>, <span class="dv">136</span>, <span class="dv">0</span>, <span class="dt">maxColorValue =</span> <span class="dv">255</span>),  </a>
<a class="sourceLine" id="cb1143-9" title="9">  <span class="kw">rgb</span>(<span class="dv">0</span>, <span class="dv">94</span>, <span class="dv">255</span>, <span class="dt">maxColorValue =</span> <span class="dv">255</span>)))(<span class="dv">25</span>), <span class="dt">axes =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="myRBook_FR_files/figure-html/021-02-graphiques-7-1.png" width="672" /></p>
<div class="sourceCode" id="cb1144"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1144-1" title="1"><span class="kw">par</span>(op)</a></code></pre></div>
<p>Nous pouvons aussi créer nos propres palettes en utilisant des sites web dédiés à la sélection des couleurs comme <a href="http://paletton.com/" class="uri">http://paletton.com/</a> ou <a href="https://coolors.co/" class="uri">https://coolors.co/</a> (il en existe bien d’autres), puis les utiliser dans R en recopiant dans un vecteur les valeurs héxadécimales ou rgb.</p>
<p>R est un language de programmation très puissant. Nous pouvons imaginer de nombreuses façons de créer automatiquement des palettes en fonction de critères variés. Par exemple nous pouvons importer une image dont les teintes nous semblent pertinentes, puis extraire les informations de chacun des points pour ensuite sélectionner les couleurs dominantes via un regroupement par cluster. C’est ce que fait la fonction suivante.</p>
<p>Tout d’abord nous allons charger les packages <code>raster</code>, <code>rgdal</code> et <code>jpeg</code> qui vont nous servir à manipuler notre image sous R.</p>
<div class="sourceCode" id="cb1145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1145-1" title="1">pkgCheck &lt;-<span class="st"> </span><span class="cf">function</span>(x){ </a>
<a class="sourceLine" id="cb1145-2" title="2">    <span class="cf">if</span> (<span class="op">!</span><span class="kw">require</span>(x, <span class="dt">character.only =</span> <span class="ot">TRUE</span>)){</a>
<a class="sourceLine" id="cb1145-3" title="3">        <span class="kw">install.packages</span>(x, <span class="dt">dependencies =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1145-4" title="4">        <span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(x, <span class="dt">character.only =</span> <span class="ot">TRUE</span>)) {</a>
<a class="sourceLine" id="cb1145-5" title="5">            <span class="kw">stop</span>()</a>
<a class="sourceLine" id="cb1145-6" title="6">        }</a>
<a class="sourceLine" id="cb1145-7" title="7">    }</a>
<a class="sourceLine" id="cb1145-8" title="8">}</a>
<a class="sourceLine" id="cb1145-9" title="9"><span class="kw">pkgCheck</span>(<span class="st">&quot;raster&quot;</span>)</a></code></pre></div>
<pre><code>## Loading required package: raster</code></pre>
<pre><code>## Loading required package: sp</code></pre>
<div class="sourceCode" id="cb1148"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1148-1" title="1"><span class="kw">pkgCheck</span>(<span class="st">&quot;rgdal&quot;</span>)</a></code></pre></div>
<pre><code>## Loading required package: rgdal</code></pre>
<pre><code>## rgdal: version: 1.4-8, (SVN revision 845)
##  Geospatial Data Abstraction Library extensions to R successfully loaded
##  Loaded GDAL runtime: GDAL 2.2.3, released 2017/11/20
##  Path to GDAL shared files: C:/Users/nous/Documents/R/win-library/3.6/rgdal/gdal
##  GDAL binary built with GEOS: TRUE 
##  Loaded PROJ.4 runtime: Rel. 4.9.3, 15 August 2016, [PJ_VERSION: 493]
##  Path to PROJ.4 shared files: C:/Users/nous/Documents/R/win-library/3.6/rgdal/proj
##  Linking to sp version: 1.3-2</code></pre>
<div class="sourceCode" id="cb1151"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1151-1" title="1"><span class="kw">pkgCheck</span>(<span class="st">&quot;jpeg&quot;</span>)</a></code></pre></div>
<pre><code>## Loading required package: jpeg</code></pre>
<p>Ensuite nous allons utiliser la fonction <code>kmeans()</code> pour effectuer des groupes de couleurs en utilisant les valeurs RGB de chacun des points de notre image. Ici nous avons deux méthodes possibles, la première utilise la fonction <code>kmeans()</code> pour les trois valeurs RGB, et la seconde utilise la fonction <code>kmeans()</code> pour chaque valeur RGB individuellement (cette seconde fonction donne une palette qui pourra être assez éloignée des couleurs de l’image de départ).</p>
<div class="sourceCode" id="cb1153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1153-1" title="1">createPal &lt;-<span class="st"> </span><span class="cf">function</span>(photo, <span class="dt">met =</span> <span class="dv">1</span>, <span class="dt">graph =</span> <span class="ot">TRUE</span>, <span class="dt">k =</span> <span class="dv">9</span>){</a>
<a class="sourceLine" id="cb1153-2" title="2">    <span class="cf">if</span>(met <span class="op">==</span><span class="st"> </span><span class="dv">1</span>){</a>
<a class="sourceLine" id="cb1153-3" title="3">        colR &lt;-<span class="st"> </span><span class="kw">getValues</span>(<span class="kw">raster</span>(photo, <span class="dt">band =</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb1153-4" title="4">        colG &lt;-<span class="st"> </span><span class="kw">getValues</span>(<span class="kw">raster</span>(photo, <span class="dt">band =</span> <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb1153-5" title="5">        colB &lt;-<span class="st"> </span><span class="kw">getValues</span>(<span class="kw">raster</span>(photo, <span class="dt">band =</span> <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb1153-6" title="6">        kMeans &lt;-<span class="st"> </span><span class="kw">kmeans</span>(<span class="kw">data.frame</span>(colR, colG, colB), <span class="dt">centers =</span> k)</a>
<a class="sourceLine" id="cb1153-7" title="7">        kCol &lt;-<span class="st"> </span><span class="kw">rgb</span>(kMeans<span class="op">$</span>centers, <span class="dt">maxColorValue =</span> <span class="dv">255</span>)[<span class="kw">order</span>(<span class="kw">table</span>(</a>
<a class="sourceLine" id="cb1153-8" title="8">            kMeans<span class="op">$</span>cluster), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)]</a>
<a class="sourceLine" id="cb1153-9" title="9">        <span class="cf">if</span>(graph <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span>){</a>
<a class="sourceLine" id="cb1153-10" title="10">          op &lt;-<span class="st"> </span><span class="kw">par</span>(<span class="dt">no.readonly =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1153-11" title="11">          <span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span> (<span class="dv">1</span>, <span class="dv">2</span>), <span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">0</span>))</a>
<a class="sourceLine" id="cb1153-12" title="12">          myJpg &lt;-<span class="st"> </span><span class="kw">readJPEG</span>(<span class="st">&quot;./myFiles/photoKmeans.jpg&quot;</span>, <span class="dt">native =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1153-13" title="13">          <span class="kw">plot</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">ann =</span> <span class="ot">FALSE</span>, <span class="dt">axes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb1153-14" title="14">          <span class="kw">rasterImage</span>(myJpg, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1153-15" title="15">          <span class="kw">barplot</span>(<span class="kw">table</span>(kMeans<span class="op">$</span>cluster)[<span class="kw">order</span>(<span class="kw">table</span>(kMeans<span class="op">$</span>cluster), </a>
<a class="sourceLine" id="cb1153-16" title="16">            <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)], <span class="dt">col =</span> kCol, <span class="dt">names.arg =</span> <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb1153-17" title="17">          <span class="kw">par</span>(op)</a>
<a class="sourceLine" id="cb1153-18" title="18">        }</a>
<a class="sourceLine" id="cb1153-19" title="19">        <span class="kw">return</span>(kCol)</a>
<a class="sourceLine" id="cb1153-20" title="20">    } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb1153-21" title="21">        <span class="cf">if</span>(met <span class="op">==</span><span class="st"> </span><span class="dv">2</span>){</a>
<a class="sourceLine" id="cb1153-22" title="22">            kColR &lt;-<span class="st"> </span><span class="kw">kmeans</span>(<span class="dt">x =</span> <span class="kw">getValues</span>(<span class="kw">raster</span>(photo, <span class="dt">band =</span> <span class="dv">1</span>)), </a>
<a class="sourceLine" id="cb1153-23" title="23">                <span class="dt">centers =</span> k)</a>
<a class="sourceLine" id="cb1153-24" title="24">            kColG &lt;-<span class="st"> </span><span class="kw">kmeans</span>(<span class="dt">x =</span> <span class="kw">getValues</span>(<span class="kw">raster</span>(photo, <span class="dt">band =</span> <span class="dv">2</span>)), </a>
<a class="sourceLine" id="cb1153-25" title="25">                <span class="dt">centers =</span> k)</a>
<a class="sourceLine" id="cb1153-26" title="26">            kColB &lt;-<span class="st"> </span><span class="kw">kmeans</span>(<span class="dt">x =</span> <span class="kw">getValues</span>(<span class="kw">raster</span>(photo, <span class="dt">band =</span> <span class="dv">3</span>)), </a>
<a class="sourceLine" id="cb1153-27" title="27">                <span class="dt">centers =</span> k)</a>
<a class="sourceLine" id="cb1153-28" title="28">            kCol &lt;-<span class="st"> </span>(<span class="kw">rgb</span>(kColR<span class="op">$</span>centers, kColG<span class="op">$</span>centers, kColB<span class="op">$</span>centers,</a>
<a class="sourceLine" id="cb1153-29" title="29">                <span class="dt">maxColorValue =</span> <span class="dv">255</span>))</a>
<a class="sourceLine" id="cb1153-30" title="30">            <span class="cf">if</span>(graph <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span>){</a>
<a class="sourceLine" id="cb1153-31" title="31">                op &lt;-<span class="st"> </span><span class="kw">par</span>(<span class="dt">no.readonly =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1153-32" title="32">                <span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span> (<span class="dv">1</span>, <span class="dv">2</span>), <span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">0</span>))</a>
<a class="sourceLine" id="cb1153-33" title="33">                myJpg &lt;-<span class="st"> </span><span class="kw">readJPEG</span>(<span class="st">&quot;./myFiles/photoKmeans.jpg&quot;</span>, <span class="dt">native =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1153-34" title="34">                <span class="kw">plot</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">ann =</span> <span class="ot">FALSE</span>, <span class="dt">axes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb1153-35" title="35">                <span class="kw">rasterImage</span>(myJpg, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1153-36" title="36">                <span class="co"># par(mar = c(0, 0, 0, 0))</span></a>
<a class="sourceLine" id="cb1153-37" title="37">                <span class="kw">plot</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span>k, <span class="dt">y =</span> <span class="kw">rep</span>(<span class="dv">1</span>, k), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), </a>
<a class="sourceLine" id="cb1153-38" title="38">                    <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, k), <span class="dt">axes =</span> <span class="ot">FALSE</span>, <span class="dt">xlab =</span> <span class="st">&quot;&quot;</span>, </a>
<a class="sourceLine" id="cb1153-39" title="39">                    <span class="dt">ylab =</span> <span class="st">&quot;&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>)</a>
<a class="sourceLine" id="cb1153-40" title="40">                <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>k){</a>
<a class="sourceLine" id="cb1153-41" title="41">                    <span class="kw">polygon</span>(<span class="dt">x =</span> <span class="kw">c</span>(i<span class="dv">-1</span>, i, i, i<span class="dv">-1</span>), <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>), </a>
<a class="sourceLine" id="cb1153-42" title="42">                        <span class="dt">col =</span> kCol[i])</a>
<a class="sourceLine" id="cb1153-43" title="43">                    <span class="kw">text</span>(<span class="dt">x =</span> i <span class="op">-</span><span class="st"> </span><span class="fl">0.5</span>, <span class="dt">y =</span> <span class="fl">0.5</span>, </a>
<a class="sourceLine" id="cb1153-44" title="44">                        <span class="dt">labels =</span> <span class="kw">as.character</span>(kCol[i]), <span class="dt">srt =</span> <span class="dv">90</span>)</a>
<a class="sourceLine" id="cb1153-45" title="45">                }</a>
<a class="sourceLine" id="cb1153-46" title="46">                <span class="kw">par</span>(op)</a>
<a class="sourceLine" id="cb1153-47" title="47">            }</a>
<a class="sourceLine" id="cb1153-48" title="48">            <span class="kw">return</span>(kCol)</a>
<a class="sourceLine" id="cb1153-49" title="49">        } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb1153-50" title="50">            <span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&quot;No method &quot;</span>, met, <span class="st">&quot;.&quot;</span>))</a>
<a class="sourceLine" id="cb1153-51" title="51">            <span class="kw">return</span>(<span class="kw">rgb</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>))</a>
<a class="sourceLine" id="cb1153-52" title="52">        }</a>
<a class="sourceLine" id="cb1153-53" title="53">    }</a>
<a class="sourceLine" id="cb1153-54" title="54">}</a>
<a class="sourceLine" id="cb1153-55" title="55"></a>
<a class="sourceLine" id="cb1153-56" title="56">myPalMet1 &lt;-<span class="st"> </span><span class="kw">createPal</span>(<span class="dt">photo =</span> <span class="st">&quot;./myFiles/photoKmeans.jpg&quot;</span>, </a>
<a class="sourceLine" id="cb1153-57" title="57">  <span class="dt">met =</span> <span class="dv">1</span>, <span class="dt">graph =</span> <span class="ot">TRUE</span>, <span class="dt">k =</span> <span class="dv">5</span>)</a></code></pre></div>
<p><img src="myRBook_FR_files/figure-html/021-02-graphiques-9-1.png" width="672" /></p>
<div class="sourceCode" id="cb1154"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1154-1" title="1">myPalMet2 &lt;-<span class="st"> </span><span class="kw">createPal</span>(<span class="dt">photo =</span> <span class="st">&quot;./myFiles/photoKmeans.jpg&quot;</span>, </a>
<a class="sourceLine" id="cb1154-2" title="2">  <span class="dt">met =</span> <span class="dv">2</span>, <span class="dt">graph =</span> <span class="ot">TRUE</span>, <span class="dt">k =</span> <span class="dv">5</span>)</a></code></pre></div>
<p><img src="myRBook_FR_files/figure-html/021-02-graphiques-9-2.png" width="672" /></p>
<p>La fonction nous renvoie les couleurs de la palette avec un graphique en barres représentant le nombre de points de l’image dans chacun des groupes de couleurs. Nous pouvons désormais utiliser notre nouvelle palette pour réaliser nos graphiques.</p>
<div class="sourceCode" id="cb1155"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1155-1" title="1">makeImpact &lt;-<span class="st"> </span><span class="cf">function</span>(myPal, <span class="dt">numP =</span> <span class="dv">300</span>, <span class="dt">impact =</span> <span class="fl">0.33</span>, <span class="dt">multCex =</span> <span class="dv">3</span>){</a>
<a class="sourceLine" id="cb1155-2" title="2">    myX &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1000</span>, <span class="dt">size =</span> numP, <span class="dt">replace =</span> <span class="ot">TRUE</span>)<span class="op">/</span><span class="dv">1000</span></a>
<a class="sourceLine" id="cb1155-3" title="3">    myY &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1000</span>, <span class="dt">size =</span> numP, <span class="dt">replace =</span> <span class="ot">TRUE</span>)<span class="op">/</span><span class="dv">1000</span></a>
<a class="sourceLine" id="cb1155-4" title="4">    distImpact &lt;-<span class="st"> </span><span class="kw">sqrt</span>((myX <span class="op">-</span><span class="st"> </span>impact)<span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>(myY <span class="op">-</span><span class="st"> </span>impact)<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1155-5" title="5">    dfXY &lt;-<span class="st"> </span><span class="kw">data.frame</span>(myX, myY, distImpact)</a>
<a class="sourceLine" id="cb1155-6" title="6">    <span class="kw">plot</span>(<span class="dt">x =</span> dfXY<span class="op">$</span>myX, <span class="dt">y =</span> dfXY<span class="op">$</span>myY, <span class="dt">axes =</span> <span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb1155-7" title="7">        <span class="dt">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;&quot;</span>, <span class="dt">cex =</span> dfXY<span class="op">$</span>distImpact<span class="op">*</span>multCex, </a>
<a class="sourceLine" id="cb1155-8" title="8">        <span class="dt">col =</span> myPal, <span class="dt">pch =</span> <span class="dv">16</span>)</a>
<a class="sourceLine" id="cb1155-9" title="9">}</a>
<a class="sourceLine" id="cb1155-10" title="10"></a>
<a class="sourceLine" id="cb1155-11" title="11">op &lt;-<span class="st"> </span><span class="kw">par</span>(<span class="dt">no.readonly =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1155-12" title="12"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span> (<span class="dv">1</span>, <span class="dv">2</span>), <span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>))</a>
<a class="sourceLine" id="cb1155-13" title="13"><span class="kw">makeImpact</span>(<span class="dt">myPal =</span> myPalMet1, <span class="dt">numP =</span> <span class="dv">3000</span>, <span class="dt">impact =</span> <span class="fl">0.33</span>)</a>
<a class="sourceLine" id="cb1155-14" title="14"><span class="kw">makeImpact</span>(<span class="dt">myPal =</span> myPalMet2, <span class="dt">numP =</span> <span class="dv">3000</span>, <span class="dt">impact =</span> <span class="fl">0.66</span>)</a></code></pre></div>
<p><img src="myRBook_FR_files/figure-html/021-02-graphiques-10-1.png" width="672" /></p>
<div class="sourceCode" id="cb1156"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1156-1" title="1"><span class="kw">par</span>(op)</a></code></pre></div>
</div>
<div id="conclusion-9" class="section level2">
<h2><span class="header-section-number">12.4</span> Conclusion</h2>
<p>Félicitations ! C’est la fin de ce chapitre sur la gestion des couleurs. Nous savons désormais comment utiliser les couleurs et les palettes, et comment guider le choix des couleurs pour mettre en valeur nos résultats. Dans le prochain chapitre nous allons voir quelques exemples de packages graphiques et les dernières tendances comme les graphiques dynamiques.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="graph1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="graph3.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/frareb/myRBook_FR/edit/master/021_02_graphiques.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["myRBook_FR.pdf", "PDF"], ["myRBook_FR.epub", "EPUB"], ["myRBook_FR.docx", "DOCX"]],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
